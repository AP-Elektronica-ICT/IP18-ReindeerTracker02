/*
 * ubx_func.c
 *
 *  Created on: Mar 19, 2018
 *      Author: nks
 */


#include <string.h>
#include <stdio.h>
#include <stdlib.h>

#include "ubx_func.h"

char PMC_set[] = { 0XB5, 0X62, 0X06, 0X86, 0X08, 0X00, 0X00, 0X01, 0X00, 0X00, 0X00, 0X00, 0X00, 0X00};
char ubx_cfg_prt[] = {0XB5, 0X62, 0X06, 0X00, 0X01, 0X00, 0X01 };

uint8_t fletcher8(char *crc, uint8_t len) {

	uint8_t CK_A = 0;
	uint8_t CK_B = 0;
	uint8_t i = 0;

	for ( i = 2 ; i < len ; i++ ) {

		CK_A = CK_A + crc[i];
		CK_B = CK_B + CK_A;
	}

	crc[len] = CK_A;
	crc[len+1] = CK_B;

	printf("Printing UBX-msg\r\n");

	for ( i = 0; i < len+2 ; i++ ) {
		printf("%02x", (unsigned char)crc[i]);
	}

	printf("\r\n");
}
