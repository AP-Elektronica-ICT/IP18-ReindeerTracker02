   1              		.cpu cortex-m0plus
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"nbiot_func.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.assembleMqtt,"ax",%progbits
  16              		.align	1
  17              		.global	assembleMqtt
  18              		.syntax unified
  19              		.code	16
  20              		.thumb_func
  21              		.fpu softvfp
  23              	assembleMqtt:
  24              	.LFB3:
  25              		.file 1 "../source/nbiot_func.c"
   1:../source/nbiot_func.c **** /*
   2:../source/nbiot_func.c ****  * nbiot_func.c
   3:../source/nbiot_func.c ****  *
   4:../source/nbiot_func.c ****  *  Created on: Mar 16, 2018
   5:../source/nbiot_func.c ****  *      Author: teemu
   6:../source/nbiot_func.c ****  */
   7:../source/nbiot_func.c **** #include <stdint.h>
   8:../source/nbiot_func.c **** #include <stdio.h>
   9:../source/nbiot_func.c **** #include <stdlib.h>
  10:../source/nbiot_func.c **** #include <string.h>
  11:../source/nbiot_func.c **** #include "nbiot_func.h"
  12:../source/nbiot_func.c **** #include "at_func.h"
  13:../source/nbiot_func.c **** #include "timing.h"
  14:../source/nbiot_func.c **** 
  15:../source/nbiot_func.c **** extern volatile uint8_t UART3_strReady;
  16:../source/nbiot_func.c **** extern uint8_t PCprint(char *data);
  17:../source/nbiot_func.c **** 
  18:../source/nbiot_func.c **** extern char NB_recBuf[];
  19:../source/nbiot_func.c **** extern char NB_bufPtr;
  20:../source/nbiot_func.c **** 
  21:../source/nbiot_func.c **** uint8_t res;
  22:../source/nbiot_func.c **** 
  23:../source/nbiot_func.c **** const char postHeader[] =
  24:../source/nbiot_func.c **** 		"POST /Reindeertracker/API/data/index.php HTTP/1.1\r\n"
  25:../source/nbiot_func.c **** 				"Host: 168.235.64.81\r\n"
  26:../source/nbiot_func.c **** 				"Content-Length: %d\r\n"
  27:../source/nbiot_func.c **** 				"Content-Type: application/json\r\n"
  28:../source/nbiot_func.c **** 				"Cache-Control: no-cache\r\n\r\n";
  29:../source/nbiot_func.c **** 
  30:../source/nbiot_func.c **** const char* client_id = "reindeertracker";
  31:../source/nbiot_func.c **** const char* topic = "reindeer";
  32:../source/nbiot_func.c **** const char* username = "reindeer";
  33:../source/nbiot_func.c **** const char* passwd = "reindeer1234";
  34:../source/nbiot_func.c **** 
  35:../source/nbiot_func.c **** uint8_t assembleMqtt(reindeerData_t *reindeerData, char *mqttMessage)
  36:../source/nbiot_func.c **** {
  26              		.loc 1 36 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 392
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              	.LVL0:
  31 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  32              		.cfi_def_cfa_offset 20
  33              		.cfi_offset 4, -20
  34              		.cfi_offset 5, -16
  35              		.cfi_offset 6, -12
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
  37:../source/nbiot_func.c **** 
  38:../source/nbiot_func.c **** 	uint8_t clientid_lt = strlen(client_id);
  38              		.loc 1 38 0
  39 0002 6C4B     		ldr	r3, .L4
  36:../source/nbiot_func.c **** 
  40              		.loc 1 36 0
  41 0004 E3B0     		sub	sp, sp, #396
  42              		.cfi_def_cfa_offset 416
  43              		.loc 1 38 0
  44 0006 1B68     		ldr	r3, [r3]
  36:../source/nbiot_func.c **** 
  45              		.loc 1 36 0
  46 0008 0090     		str	r0, [sp]
  47              		.loc 1 38 0
  48 000a 1800     		movs	r0, r3
  49              	.LVL1:
  36:../source/nbiot_func.c **** 
  50              		.loc 1 36 0
  51 000c 0291     		str	r1, [sp, #8]
  52              		.loc 1 38 0
  53 000e 0193     		str	r3, [sp, #4]
  54 0010 FFF7FEFF 		bl	strlen
  55              	.LVL2:
  56 0014 6B46     		mov	r3, sp
  57 0016 0590     		str	r0, [sp, #20]
  58 0018 1D7D     		ldrb	r5, [r3, #20]
  59              	.LVL3:
  39:../source/nbiot_func.c **** 	uint8_t pass_lt = strlen(passwd);
  60              		.loc 1 39 0
  61 001a 674B     		ldr	r3, .L4+4
  40:../source/nbiot_func.c **** 	uint8_t user_lt = strlen(username);
  41:../source/nbiot_func.c **** 	//M		Q		T    T   prLe  flag  kea   kea
  42:../source/nbiot_func.c **** 	uint8_t connect_command[] =
  43:../source/nbiot_func.c **** 	{ 0x10, clientid_lt + pass_lt + user_lt + 10 + 6, 0x00, 0x04, 0x4d, 0x51,
  44:../source/nbiot_func.c **** 			0x54, 0x54, 0x04, 0xc2, 0x00, 0x0a, 0x00, clientid_lt };
  45:../source/nbiot_func.c **** 
  46:../source/nbiot_func.c **** 	uint8_t packet_ptr = 0;
  47:../source/nbiot_func.c **** 
  48:../source/nbiot_func.c **** 	char udpMessage[350];
  49:../source/nbiot_func.c **** 
  50:../source/nbiot_func.c **** 	memmove(udpMessage, connect_command, sizeof(connect_command)); //move connect command header to th
  62              		.loc 1 50 0
  63 001c 0AAC     		add	r4, sp, #40
  39:../source/nbiot_func.c **** 	uint8_t pass_lt = strlen(passwd);
  64              		.loc 1 39 0
  65 001e 1B68     		ldr	r3, [r3]
  66 0020 1800     		movs	r0, r3
  67 0022 0393     		str	r3, [sp, #12]
  68 0024 FFF7FEFF 		bl	strlen
  69              	.LVL4:
  70 0028 6B46     		mov	r3, sp
  71 002a 0690     		str	r0, [sp, #24]
  72 002c 1E7E     		ldrb	r6, [r3, #24]
  73              	.LVL5:
  40:../source/nbiot_func.c **** 	uint8_t user_lt = strlen(username);
  74              		.loc 1 40 0
  75 002e 634B     		ldr	r3, .L4+8
  76 0030 1B68     		ldr	r3, [r3]
  77 0032 1800     		movs	r0, r3
  78 0034 0493     		str	r3, [sp, #16]
  79 0036 FFF7FEFF 		bl	strlen
  80              	.LVL6:
  81 003a 6B46     		mov	r3, sp
  82 003c 0790     		str	r0, [sp, #28]
  83 003e 1F7F     		ldrb	r7, [r3, #28]
  84              	.LVL7:
  85              		.loc 1 50 0
  86 0040 1023     		movs	r3, #16
  87 0042 2370     		strb	r3, [r4]
  43:../source/nbiot_func.c **** 			0x54, 0x54, 0x04, 0xc2, 0x00, 0x0a, 0x00, clientid_lt };
  88              		.loc 1 43 0
  89 0044 AB19     		adds	r3, r5, r6
  90 0046 1033     		adds	r3, r3, #16
  91 0048 FB18     		adds	r3, r7, r3
  92              		.loc 1 50 0
  93 004a 6370     		strb	r3, [r4, #1]
  94 004c 8023     		movs	r3, #128
  95 004e DB00     		lsls	r3, r3, #3
  96 0050 6380     		strh	r3, [r4, #2]
  97 0052 5B4B     		ldr	r3, .L4+12
  51:../source/nbiot_func.c **** 	packet_ptr += sizeof(connect_command); //increment packet pointer by the added data length so we k
  52:../source/nbiot_func.c **** 
  53:../source/nbiot_func.c **** 	memmove(udpMessage + packet_ptr, client_id, clientid_lt); //add client id next
  98              		.loc 1 53 0
  99 0054 1620     		movs	r0, #22
  50:../source/nbiot_func.c **** 	packet_ptr += sizeof(connect_command); //increment packet pointer by the added data length so we k
 100              		.loc 1 50 0
 101 0056 A380     		strh	r3, [r4, #4]
 102 0058 5A4B     		ldr	r3, .L4+16
 103              		.loc 1 53 0
 104 005a 059A     		ldr	r2, [sp, #20]
  50:../source/nbiot_func.c **** 	packet_ptr += sizeof(connect_command); //increment packet pointer by the added data length so we k
 105              		.loc 1 50 0
 106 005c E380     		strh	r3, [r4, #6]
 107 005e 5A4B     		ldr	r3, .L4+20
 108              		.loc 1 53 0
 109 0060 0199     		ldr	r1, [sp, #4]
  50:../source/nbiot_func.c **** 	packet_ptr += sizeof(connect_command); //increment packet pointer by the added data length so we k
 110              		.loc 1 50 0
 111 0062 2381     		strh	r3, [r4, #8]
 112 0064 A023     		movs	r3, #160
 113 0066 1B01     		lsls	r3, r3, #4
 114 0068 6381     		strh	r3, [r4, #10]
 115 006a 0023     		movs	r3, #0
 116 006c 2373     		strb	r3, [r4, #12]
 117              		.loc 1 53 0
 118 006e FF23     		movs	r3, #255
 119 0070 1A40     		ands	r2, r3
 120 0072 08AB     		add	r3, sp, #32
 121 0074 C018     		adds	r0, r0, r3
  50:../source/nbiot_func.c **** 	packet_ptr += sizeof(connect_command); //increment packet pointer by the added data length so we k
 122              		.loc 1 50 0
 123 0076 6573     		strb	r5, [r4, #13]
 124              	.LVL8:
 125              		.loc 1 53 0
 126 0078 FFF7FEFF 		bl	memcpy
 127              	.LVL9:
  54:../source/nbiot_func.c **** 	packet_ptr += clientid_lt;
  55:../source/nbiot_func.c **** 
  56:../source/nbiot_func.c **** 	uint8_t w_buf[5] =
 128              		.loc 1 56 0
 129 007c 0522     		movs	r2, #5
 130 007e 0021     		movs	r1, #0
 131 0080 08A8     		add	r0, sp, #32
 132 0082 FFF7FEFF 		bl	memset
 133              	.LVL10:
  54:../source/nbiot_func.c **** 	packet_ptr += clientid_lt;
 134              		.loc 1 54 0
 135 0086 2800     		movs	r0, r5
 136 0088 0E30     		adds	r0, r0, #14
 137              		.loc 1 56 0
 138 008a 08AA     		add	r2, sp, #32
  57:../source/nbiot_func.c **** 	{ 0x00, user_lt };
  58:../source/nbiot_func.c **** 
  59:../source/nbiot_func.c **** 	memmove(udpMessage + packet_ptr, w_buf, 2); //put user length..
 139              		.loc 1 59 0
 140 008c C0B2     		uxtb	r0, r0
  56:../source/nbiot_func.c **** 	{ 0x00, user_lt };
 141              		.loc 1 56 0
 142 008e 5770     		strb	r7, [r2, #1]
 143              		.loc 1 59 0
 144 0090 08A9     		add	r1, sp, #32
 145 0092 0222     		movs	r2, #2
 146 0094 2018     		adds	r0, r4, r0
 147 0096 FFF7FEFF 		bl	memcpy
 148              	.LVL11:
  60:../source/nbiot_func.c **** 	packet_ptr += 2;
  61:../source/nbiot_func.c **** 
  62:../source/nbiot_func.c **** 	memmove(udpMessage + packet_ptr, username, user_lt); 	//put user
 149              		.loc 1 62 0
 150 009a FF23     		movs	r3, #255
 151 009c 079A     		ldr	r2, [sp, #28]
  60:../source/nbiot_func.c **** 	packet_ptr += 2;
 152              		.loc 1 60 0
 153 009e 1035     		adds	r5, r5, #16
 154              	.LVL12:
 155 00a0 EDB2     		uxtb	r5, r5
 156              	.LVL13:
 157              		.loc 1 62 0
 158 00a2 1A40     		ands	r2, r3
 159 00a4 6019     		adds	r0, r4, r5
 160 00a6 0499     		ldr	r1, [sp, #16]
  63:../source/nbiot_func.c **** 	packet_ptr += user_lt;
 161              		.loc 1 63 0
 162 00a8 7D19     		adds	r5, r7, r5
 163              	.LVL14:
  62:../source/nbiot_func.c **** 	packet_ptr += user_lt;
 164              		.loc 1 62 0
 165 00aa FFF7FEFF 		bl	memcpy
 166              	.LVL15:
 167              		.loc 1 63 0
 168 00ae EDB2     		uxtb	r5, r5
 169              	.LVL16:
  64:../source/nbiot_func.c **** 
  65:../source/nbiot_func.c **** 	w_buf[1] = pass_lt;
 170              		.loc 1 65 0
 171 00b0 08AA     		add	r2, sp, #32
 172 00b2 5670     		strb	r6, [r2, #1]
  66:../source/nbiot_func.c **** 
  67:../source/nbiot_func.c **** 	memmove(udpMessage + packet_ptr, w_buf, 2); //put passwd length..
 173              		.loc 1 67 0
 174 00b4 6019     		adds	r0, r4, r5
 175 00b6 0222     		movs	r2, #2
 176 00b8 08A9     		add	r1, sp, #32
 177 00ba FFF7FEFF 		bl	memcpy
 178              	.LVL17:
  68:../source/nbiot_func.c **** 	packet_ptr += 2;
  69:../source/nbiot_func.c **** 
  70:../source/nbiot_func.c **** 	memmove(udpMessage + packet_ptr, passwd, pass_lt); 	//put passwd
 179              		.loc 1 70 0
 180 00be FF23     		movs	r3, #255
 181 00c0 069A     		ldr	r2, [sp, #24]
  68:../source/nbiot_func.c **** 	packet_ptr += 2;
 182              		.loc 1 68 0
 183 00c2 0235     		adds	r5, r5, #2
 184              	.LVL18:
 185 00c4 EDB2     		uxtb	r5, r5
 186              	.LVL19:
 187              		.loc 1 70 0
 188 00c6 1A40     		ands	r2, r3
 189 00c8 0399     		ldr	r1, [sp, #12]
 190 00ca 6019     		adds	r0, r4, r5
 191 00cc FFF7FEFF 		bl	memcpy
 192              	.LVL20:
  71:../source/nbiot_func.c **** 	packet_ptr += pass_lt;
  72:../source/nbiot_func.c **** 
  73:../source/nbiot_func.c **** 	uint8_t topic_lt = strlen(topic);
 193              		.loc 1 73 0
 194 00d0 3E4A     		ldr	r2, .L4+24
  71:../source/nbiot_func.c **** 	packet_ptr += pass_lt;
 195              		.loc 1 71 0
 196 00d2 7519     		adds	r5, r6, r5
 197              	.LVL21:
 198              		.loc 1 73 0
 199 00d4 1068     		ldr	r0, [r2]
 200 00d6 FFF7FEFF 		bl	strlen
 201              	.LVL22:
 202 00da 6B46     		mov	r3, sp
 203 00dc 0390     		str	r0, [sp, #12]
  74:../source/nbiot_func.c **** 
  75:../source/nbiot_func.c **** 	int length = 0;
  76:../source/nbiot_func.c **** 
  77:../source/nbiot_func.c **** 	static char jsonMessage[150];
  78:../source/nbiot_func.c **** 
  79:../source/nbiot_func.c **** 	length += sprintf(jsonMessage, "{\r\n\r\n    \"serialnumber\":\"%s\",\r\n",
 204              		.loc 1 79 0
 205 00de 3C4E     		ldr	r6, .L4+28
 206              	.LVL23:
  73:../source/nbiot_func.c **** 
 207              		.loc 1 73 0
 208 00e0 1A7B     		ldrb	r2, [r3, #12]
 209              		.loc 1 79 0
 210 00e2 3C49     		ldr	r1, .L4+32
  73:../source/nbiot_func.c **** 
 211              		.loc 1 73 0
 212 00e4 0192     		str	r2, [sp, #4]
 213              		.loc 1 79 0
 214 00e6 3000     		movs	r0, r6
 215 00e8 009A     		ldr	r2, [sp]
 216 00ea FFF7FEFF 		bl	sprintf
 217              	.LVL24:
  80:../source/nbiot_func.c **** 			reindeerData->serialNum);
  81:../source/nbiot_func.c **** 	length += sprintf(jsonMessage + length, "    \"lat\":\"%s\",\r\n",
 218              		.loc 1 81 0
 219 00ee 009A     		ldr	r2, [sp]
  79:../source/nbiot_func.c **** 			reindeerData->serialNum);
 220              		.loc 1 79 0
 221 00f0 0700     		movs	r7, r0
 222              	.LVL25:
 223              		.loc 1 81 0
 224 00f2 0632     		adds	r2, r2, #6
 225 00f4 8019     		adds	r0, r0, r6
 226 00f6 3849     		ldr	r1, .L4+36
 227 00f8 FFF7FEFF 		bl	sprintf
 228              	.LVL26:
  82:../source/nbiot_func.c **** 			reindeerData->latitude);
  83:../source/nbiot_func.c **** 	length += sprintf(jsonMessage + length, "    \"long\":\"%s\",\r\n",
 229              		.loc 1 83 0
 230 00fc 009A     		ldr	r2, [sp]
  81:../source/nbiot_func.c **** 			reindeerData->latitude);
 231              		.loc 1 81 0
 232 00fe 3F18     		adds	r7, r7, r0
 233              		.loc 1 83 0
 234 0100 B819     		adds	r0, r7, r6
 235 0102 1232     		adds	r2, r2, #18
 236 0104 3549     		ldr	r1, .L4+40
 237 0106 FFF7FEFF 		bl	sprintf
 238              	.LVL27:
  84:../source/nbiot_func.c **** 			reindeerData->longitude);
  85:../source/nbiot_func.c **** 	length += sprintf(jsonMessage + length, "    \"status\":\"%s\",\r\n",
 239              		.loc 1 85 0
 240 010a 009A     		ldr	r2, [sp]
  83:../source/nbiot_func.c **** 			reindeerData->longitude);
 241              		.loc 1 83 0
 242 010c 3F18     		adds	r7, r7, r0
 243              		.loc 1 85 0
 244 010e B819     		adds	r0, r7, r6
 245 0110 1E32     		adds	r2, r2, #30
 246 0112 3349     		ldr	r1, .L4+44
 247 0114 FFF7FEFF 		bl	sprintf
 248              	.LVL28:
  86:../source/nbiot_func.c **** 			reindeerData->dead);
  87:../source/nbiot_func.c **** 	length += sprintf(jsonMessage + length, "    \"battery\":\"%d\"\r\n\r\n}",
  88:../source/nbiot_func.c **** 			reindeerData->batteryLevel);
 249              		.loc 1 88 0
 250 0118 009A     		ldr	r2, [sp]
  85:../source/nbiot_func.c **** 			reindeerData->dead);
 251              		.loc 1 85 0
 252 011a 3F18     		adds	r7, r7, r0
 253              		.loc 1 88 0
 254 011c 531D     		adds	r3, r2, #5
  87:../source/nbiot_func.c **** 			reindeerData->batteryLevel);
 255              		.loc 1 87 0
 256 011e DA7F     		ldrb	r2, [r3, #31]
 257 0120 B819     		adds	r0, r7, r6
 258 0122 3049     		ldr	r1, .L4+48
 259 0124 FFF7FEFF 		bl	sprintf
 260              	.LVL29:
 261 0128 3F18     		adds	r7, r7, r0
  89:../source/nbiot_func.c **** 
  90:../source/nbiot_func.c **** 	PCprint(jsonMessage);
 262              		.loc 1 90 0
 263 012a 3000     		movs	r0, r6
 264 012c FFF7FEFF 		bl	PCprint
 265              	.LVL30:
  91:../source/nbiot_func.c **** 
  92:../source/nbiot_func.c **** 	w_buf[0] = 0x30;
 266              		.loc 1 92 0
 267 0130 3023     		movs	r3, #48
 268 0132 08AA     		add	r2, sp, #32
 269 0134 1370     		strb	r3, [r2]
  93:../source/nbiot_func.c **** 	w_buf[1] = 0x00;
  94:../source/nbiot_func.c **** 	w_buf[2] = 0x00;
  95:../source/nbiot_func.c **** 	w_buf[3] = 0x00;
  96:../source/nbiot_func.c **** 	w_buf[4] = topic_lt; //put in publish command
 270              		.loc 1 96 0
 271 0136 6B46     		mov	r3, sp
 272 0138 1979     		ldrb	r1, [r3, #4]
  71:../source/nbiot_func.c **** 
 273              		.loc 1 71 0
 274 013a EDB2     		uxtb	r5, r5
 275              	.LVL31:
 276              		.loc 1 96 0
 277 013c 1171     		strb	r1, [r2, #4]
  97:../source/nbiot_func.c **** 
  98:../source/nbiot_func.c **** 	w_buf[1] = topic_lt + length + 2; //replace 0 with length of publish message
 278              		.loc 1 98 0
 279 013e FAB2     		uxtb	r2, r7
 280 0140 0092     		str	r2, [sp]
 281              	.LVL32:
 282 0142 019A     		ldr	r2, [sp, #4]
  99:../source/nbiot_func.c **** 
 100:../source/nbiot_func.c **** 	uint8_t x = w_buf[1];
 101:../source/nbiot_func.c **** 	uint8_t encodedByte = 0;
 102:../source/nbiot_func.c **** 
 103:../source/nbiot_func.c **** 	encodedByte = x % 128;
 104:../source/nbiot_func.c **** 
 105:../source/nbiot_func.c **** 	x = x / 128;
 106:../source/nbiot_func.c **** 
 107:../source/nbiot_func.c **** 	encodedByte = encodedByte | 128;
 108:../source/nbiot_func.c **** 
 109:../source/nbiot_func.c **** 	w_buf[1] = encodedByte;
 283              		.loc 1 109 0
 284 0144 08A9     		add	r1, sp, #32
  98:../source/nbiot_func.c **** 
 285              		.loc 1 98 0
 286 0146 931C     		adds	r3, r2, #2
 287 0148 FAB2     		uxtb	r2, r7
 288 014a D318     		adds	r3, r2, r3
 107:../source/nbiot_func.c **** 
 289              		.loc 1 107 0
 290 014c 8022     		movs	r2, #128
  98:../source/nbiot_func.c **** 
 291              		.loc 1 98 0
 292 014e DBB2     		uxtb	r3, r3
 293              	.LVL33:
 107:../source/nbiot_func.c **** 
 294              		.loc 1 107 0
 295 0150 5242     		rsbs	r2, r2, #0
 296 0152 1A43     		orrs	r2, r3
 297              		.loc 1 109 0
 298 0154 4A70     		strb	r2, [r1, #1]
 110:../source/nbiot_func.c **** 
 111:../source/nbiot_func.c **** 	w_buf[2] = x;
 112:../source/nbiot_func.c **** 
 113:../source/nbiot_func.c **** 	memmove(udpMessage + packet_ptr, w_buf, 5);
 299              		.loc 1 113 0
 300 0156 62AA     		add	r2, sp, #392
 301 0158 5019     		adds	r0, r2, r5
 302 015a 6138     		subs	r0, r0, #97
 105:../source/nbiot_func.c **** 
 303              		.loc 1 105 0
 304 015c DB09     		lsrs	r3, r3, #7
 305              	.LVL34:
 306              		.loc 1 113 0
 307 015e 0522     		movs	r2, #5
 308 0160 FF38     		subs	r0, r0, #255
 111:../source/nbiot_func.c **** 
 309              		.loc 1 111 0
 310 0162 8B70     		strb	r3, [r1, #2]
 311              		.loc 1 113 0
 312 0164 FFF7FEFF 		bl	memcpy
 313              	.LVL35:
 114:../source/nbiot_func.c **** 	packet_ptr += 5;
 115:../source/nbiot_func.c **** 
 116:../source/nbiot_func.c **** 	memmove(udpMessage + packet_ptr, topic, topic_lt);
 314              		.loc 1 116 0
 315 0168 FF23     		movs	r3, #255
 316 016a 039A     		ldr	r2, [sp, #12]
 114:../source/nbiot_func.c **** 	packet_ptr += 5;
 317              		.loc 1 114 0
 318 016c 0535     		adds	r5, r5, #5
 319              	.LVL36:
 320              		.loc 1 116 0
 321 016e 1A40     		ands	r2, r3
 322 0170 164B     		ldr	r3, .L4+24
 114:../source/nbiot_func.c **** 	packet_ptr += 5;
 323              		.loc 1 114 0
 324 0172 EDB2     		uxtb	r5, r5
 325              	.LVL37:
 326              		.loc 1 116 0
 327 0174 1968     		ldr	r1, [r3]
 328 0176 6019     		adds	r0, r4, r5
 329 0178 FFF7FEFF 		bl	memcpy
 330              	.LVL38:
 117:../source/nbiot_func.c **** 	packet_ptr += topic_lt;
 118:../source/nbiot_func.c **** 
 119:../source/nbiot_func.c **** 	memmove(udpMessage + packet_ptr, jsonMessage, length);
 331              		.loc 1 119 0
 332 017c 3100     		movs	r1, r6
 120:../source/nbiot_func.c **** 	packet_ptr += length;
 121:../source/nbiot_func.c **** 
 122:../source/nbiot_func.c **** 	uint8_t packet_len = packet_ptr;
 123:../source/nbiot_func.c **** 
 124:../source/nbiot_func.c **** 	char *messagePtr = mqttMessage;
 125:../source/nbiot_func.c **** 
 126:../source/nbiot_func.c **** 	for (packet_ptr = 0; packet_ptr < packet_len; packet_ptr++) //print the packet as hex dump for deb
 333              		.loc 1 126 0
 334 017e 0026     		movs	r6, #0
 117:../source/nbiot_func.c **** 	packet_ptr += topic_lt;
 335              		.loc 1 117 0
 336 0180 019B     		ldr	r3, [sp, #4]
 119:../source/nbiot_func.c **** 	packet_ptr += length;
 337              		.loc 1 119 0
 338 0182 3A00     		movs	r2, r7
 117:../source/nbiot_func.c **** 	packet_ptr += topic_lt;
 339              		.loc 1 117 0
 340 0184 5D19     		adds	r5, r3, r5
 341              	.LVL39:
 342 0186 EDB2     		uxtb	r5, r5
 343              	.LVL40:
 119:../source/nbiot_func.c **** 	packet_ptr += length;
 344              		.loc 1 119 0
 345 0188 6019     		adds	r0, r4, r5
 346 018a FFF7FEFF 		bl	memcpy
 347              	.LVL41:
 120:../source/nbiot_func.c **** 	packet_ptr += length;
 348              		.loc 1 120 0
 349 018e 009B     		ldr	r3, [sp]
 350 0190 5D19     		adds	r5, r3, r5
 351              	.LVL42:
 352 0192 EDB2     		uxtb	r5, r5
 353              	.LVL43:
 354              	.L2:
 355              		.loc 1 126 0 discriminator 1
 356 0194 F3B2     		uxtb	r3, r6
 357 0196 9D42     		cmp	r5, r3
 358 0198 02D8     		bhi	.L3
 359              	.LVL44:
 127:../source/nbiot_func.c **** 	{
 128:../source/nbiot_func.c **** 
 129:../source/nbiot_func.c **** 		messagePtr += sprintf(messagePtr, "%02x",
 130:../source/nbiot_func.c **** 				(uint8_t) udpMessage[packet_ptr]);
 131:../source/nbiot_func.c **** 
 132:../source/nbiot_func.c **** 		//if ((packet_ptr + 1) > 0 && ((packet_ptr + 1) % 15 == 0))
 133:../source/nbiot_func.c **** 		//PCprint("\n"); //this just changes line after 16 bytes printed
 134:../source/nbiot_func.c **** 
 135:../source/nbiot_func.c **** 	}
 136:../source/nbiot_func.c **** 
 137:../source/nbiot_func.c **** 	//PCprint("packet length %d\r\n",packet_len);
 138:../source/nbiot_func.c **** 
 139:../source/nbiot_func.c **** 	return packet_len;
 140:../source/nbiot_func.c **** }
 360              		.loc 1 140 0
 361 019a 2800     		movs	r0, r5
 362 019c 63B0     		add	sp, sp, #396
 363              	.LVL45:
 364              		@ sp needed
 365              	.LVL46:
 366              	.LVL47:
 367              	.LVL48:
 368 019e F0BD     		pop	{r4, r5, r6, r7, pc}
 369              	.LVL49:
 370              	.L3:
 129:../source/nbiot_func.c **** 				(uint8_t) udpMessage[packet_ptr]);
 371              		.loc 1 129 0 discriminator 3
 372 01a0 A25D     		ldrb	r2, [r4, r6]
 373 01a2 1149     		ldr	r1, .L4+52
 374 01a4 0298     		ldr	r0, [sp, #8]
 375 01a6 FFF7FEFF 		bl	sprintf
 376              	.LVL50:
 377 01aa 029B     		ldr	r3, [sp, #8]
 378 01ac 0136     		adds	r6, r6, #1
 379              	.LVL51:
 380 01ae 0233     		adds	r3, r3, #2
 381 01b0 0293     		str	r3, [sp, #8]
 382              	.LVL52:
 383 01b2 EFE7     		b	.L2
 384              	.L5:
 385              		.align	2
 386              	.L4:
 387 01b4 00000000 		.word	.LANCHOR0
 388 01b8 00000000 		.word	.LANCHOR1
 389 01bc 00000000 		.word	.LANCHOR2
 390 01c0 4D510000 		.word	20813
 391 01c4 54540000 		.word	21588
 392 01c8 04C2FFFF 		.word	-15868
 393 01cc 00000000 		.word	.LANCHOR3
 394 01d0 00000000 		.word	jsonMessage.5854
 395 01d4 00000000 		.word	.LC6
 396 01d8 20000000 		.word	.LC9
 397 01dc 32000000 		.word	.LC11
 398 01e0 45000000 		.word	.LC13
 399 01e4 5A000000 		.word	.LC15
 400 01e8 72000000 		.word	.LC17
 401              		.cfi_endproc
 402              	.LFE3:
 404              		.section	.text.assemblePacket,"ax",%progbits
 405              		.align	1
 406              		.global	assemblePacket
 407              		.syntax unified
 408              		.code	16
 409              		.thumb_func
 410              		.fpu softvfp
 412              	assemblePacket:
 413              	.LFB4:
 141:../source/nbiot_func.c **** 
 142:../source/nbiot_func.c **** void assemblePacket(reindeerData_t *reindeerData, char *udpMessage)
 143:../source/nbiot_func.c **** {
 414              		.loc 1 143 0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 0
 417              		@ frame_needed = 0, uses_anonymous_args = 0
 418              	.LVL53:
 419 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 420              		.cfi_def_cfa_offset 24
 421              		.cfi_offset 3, -24
 422              		.cfi_offset 4, -20
 423              		.cfi_offset 5, -16
 424              		.cfi_offset 6, -12
 425              		.cfi_offset 7, -8
 426              		.cfi_offset 14, -4
 144:../source/nbiot_func.c **** 
 145:../source/nbiot_func.c **** 	int length = 0;
 146:../source/nbiot_func.c **** 
 147:../source/nbiot_func.c **** 	static char jsonMessage[150];
 148:../source/nbiot_func.c **** 
 149:../source/nbiot_func.c **** 	length += sprintf(jsonMessage, "{\r\n\r\n    \"serialnumber\":\"%s\",\r\n",
 427              		.loc 1 149 0
 428 0002 1E4D     		ldr	r5, .L9
 143:../source/nbiot_func.c **** 
 429              		.loc 1 143 0
 430 0004 0600     		movs	r6, r0
 431 0006 0F00     		movs	r7, r1
 432              		.loc 1 149 0
 433 0008 0200     		movs	r2, r0
 434 000a 1D49     		ldr	r1, .L9+4
 435              	.LVL54:
 436 000c 2800     		movs	r0, r5
 437              	.LVL55:
 438 000e FFF7FEFF 		bl	sprintf
 439              	.LVL56:
 150:../source/nbiot_func.c **** 			reindeerData->serialNum);
 151:../source/nbiot_func.c **** 	length += sprintf(jsonMessage + length, "    \"lat\":\"%s\",\r\n",
 440              		.loc 1 151 0
 441 0012 B21D     		adds	r2, r6, #6
 149:../source/nbiot_func.c **** 			reindeerData->serialNum);
 442              		.loc 1 149 0
 443 0014 0400     		movs	r4, r0
 444              	.LVL57:
 445              		.loc 1 151 0
 446 0016 1B49     		ldr	r1, .L9+8
 447 0018 4019     		adds	r0, r0, r5
 448              	.LVL58:
 449 001a FFF7FEFF 		bl	sprintf
 450              	.LVL59:
 152:../source/nbiot_func.c **** 			reindeerData->latitude);
 153:../source/nbiot_func.c **** 	length += sprintf(jsonMessage + length, "    \"long\":\"%s\",\r\n",
 451              		.loc 1 153 0
 452 001e 3200     		movs	r2, r6
 151:../source/nbiot_func.c **** 			reindeerData->latitude);
 453              		.loc 1 151 0
 454 0020 2418     		adds	r4, r4, r0
 455              	.LVL60:
 456              		.loc 1 153 0
 457 0022 1232     		adds	r2, r2, #18
 458 0024 6019     		adds	r0, r4, r5
 459 0026 1849     		ldr	r1, .L9+12
 460 0028 FFF7FEFF 		bl	sprintf
 461              	.LVL61:
 154:../source/nbiot_func.c **** 			reindeerData->longitude);
 155:../source/nbiot_func.c **** 	length += sprintf(jsonMessage + length, "    \"status\":\"%s\",\r\n",
 462              		.loc 1 155 0
 463 002c 3200     		movs	r2, r6
 153:../source/nbiot_func.c **** 			reindeerData->longitude);
 464              		.loc 1 153 0
 465 002e 2418     		adds	r4, r4, r0
 466              	.LVL62:
 467              		.loc 1 155 0
 468 0030 1E32     		adds	r2, r2, #30
 469 0032 6019     		adds	r0, r4, r5
 470 0034 1549     		ldr	r1, .L9+16
 471 0036 FFF7FEFF 		bl	sprintf
 472              	.LVL63:
 156:../source/nbiot_func.c **** 			reindeerData->dead);
 157:../source/nbiot_func.c **** 	length += sprintf(jsonMessage + length, "    \"battery\":\"%d\"\r\n\r\n}",
 158:../source/nbiot_func.c **** 			reindeerData->batteryLevel);
 473              		.loc 1 158 0
 474 003a 0536     		adds	r6, r6, #5
 475              	.LVL64:
 155:../source/nbiot_func.c **** 			reindeerData->dead);
 476              		.loc 1 155 0
 477 003c 2418     		adds	r4, r4, r0
 478              	.LVL65:
 157:../source/nbiot_func.c **** 			reindeerData->batteryLevel);
 479              		.loc 1 157 0
 480 003e F27F     		ldrb	r2, [r6, #31]
 481 0040 1349     		ldr	r1, .L9+20
 482 0042 6019     		adds	r0, r4, r5
 483 0044 FFF7FEFF 		bl	sprintf
 484              	.LVL66:
 485 0048 2418     		adds	r4, r4, r0
 486              	.LVL67:
 159:../source/nbiot_func.c **** 
 160:../source/nbiot_func.c **** 	PCprint(jsonMessage);
 487              		.loc 1 160 0
 488 004a 2800     		movs	r0, r5
 489 004c FFF7FEFF 		bl	PCprint
 490              	.LVL68:
 161:../source/nbiot_func.c **** 
 162:../source/nbiot_func.c **** 	//strcpy(udpMessage,postHeader);
 163:../source/nbiot_func.c **** 
 164:../source/nbiot_func.c **** 	int udpLength = sprintf(udpMessage, postHeader, length);
 491              		.loc 1 164 0
 492 0050 2200     		movs	r2, r4
 493 0052 1049     		ldr	r1, .L9+24
 494 0054 3800     		movs	r0, r7
 495 0056 FFF7FEFF 		bl	sprintf
 496              	.LVL69:
 165:../source/nbiot_func.c **** 
 166:../source/nbiot_func.c **** 	strcpy(udpMessage + udpLength, jsonMessage);
 497              		.loc 1 166 0
 498 005a 2900     		movs	r1, r5
 499 005c 3818     		adds	r0, r7, r0
 500              	.LVL70:
 501 005e FFF7FEFF 		bl	strcpy
 502              	.LVL71:
 167:../source/nbiot_func.c **** 
 168:../source/nbiot_func.c **** 	//PCprint("%s\r\n", udpMessage);
 169:../source/nbiot_func.c **** 
 170:../source/nbiot_func.c **** 	udpLength = strlen(udpMessage);
 503              		.loc 1 170 0
 504 0062 3800     		movs	r0, r7
 505 0064 FFF7FEFF 		bl	strlen
 506              	.LVL72:
 507              	.LBB2:
 171:../source/nbiot_func.c **** 
 172:../source/nbiot_func.c **** 	//PCprint("length of udp msg %d \r\nPrinting UDP message in hex\r\n",
 173:../source/nbiot_func.c **** 	//		udpLength);
 174:../source/nbiot_func.c **** 
 175:../source/nbiot_func.c **** 	for (uint16_t p = 0; p < udpLength; p++)
 508              		.loc 1 175 0
 509 0068 0023     		movs	r3, #0
 510              	.LVL73:
 511              	.L7:
 512              		.loc 1 175 0 is_stmt 0 discriminator 1
 513 006a 8342     		cmp	r3, r0
 514 006c 03DB     		blt	.L8
 515              	.LBE2:
 176:../source/nbiot_func.c **** 	{
 177:../source/nbiot_func.c **** 
 178:../source/nbiot_func.c **** 		//PCprint("%02x", udpMessage[p]);
 179:../source/nbiot_func.c **** 	}
 180:../source/nbiot_func.c **** 
 181:../source/nbiot_func.c **** 	PCprint("\r\n");
 516              		.loc 1 181 0 is_stmt 1
 517 006e 0A48     		ldr	r0, .L9+28
 518              	.LVL74:
 519 0070 FFF7FEFF 		bl	PCprint
 520              	.LVL75:
 182:../source/nbiot_func.c **** 
 183:../source/nbiot_func.c **** }
 521              		.loc 1 183 0
 522              		@ sp needed
 523              	.LVL76:
 524              	.LVL77:
 525              	.LVL78:
 526 0074 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 527              	.LVL79:
 528              	.L8:
 529              	.LBB3:
 175:../source/nbiot_func.c **** 	{
 530              		.loc 1 175 0 discriminator 3
 531 0076 0133     		adds	r3, r3, #1
 532              	.LVL80:
 533 0078 9BB2     		uxth	r3, r3
 534              	.LVL81:
 535 007a F6E7     		b	.L7
 536              	.L10:
 537              		.align	2
 538              	.L9:
 539 007c 00000000 		.word	jsonMessage.5867
 540 0080 00000000 		.word	.LC6
 541 0084 20000000 		.word	.LC9
 542 0088 32000000 		.word	.LC11
 543 008c 45000000 		.word	.LC13
 544 0090 5A000000 		.word	.LC15
 545 0094 00000000 		.word	postHeader
 546 0098 00000000 		.word	.LC26
 547              	.LBE3:
 548              		.cfi_endproc
 549              	.LFE4:
 551              		.section	.text.NB_received_data,"ax",%progbits
 552              		.align	1
 553              		.global	NB_received_data
 554              		.syntax unified
 555              		.code	16
 556              		.thumb_func
 557              		.fpu softvfp
 559              	NB_received_data:
 560              	.LFB5:
 184:../source/nbiot_func.c **** 
 185:../source/nbiot_func.c **** void NB_received_data()
 186:../source/nbiot_func.c **** {
 561              		.loc 1 186 0
 562              		.cfi_startproc
 563              		@ args = 0, pretend = 0, frame = 0
 564              		@ frame_needed = 0, uses_anonymous_args = 0
 565              	.LVL82:
 566 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 567              		.cfi_def_cfa_offset 24
 568              		.cfi_offset 3, -24
 569              		.cfi_offset 4, -20
 570              		.cfi_offset 5, -16
 571              		.cfi_offset 6, -12
 572              		.cfi_offset 7, -8
 573              		.cfi_offset 14, -4
 187:../source/nbiot_func.c **** 
 188:../source/nbiot_func.c **** 	uint32_t time_limit = 1000000;
 189:../source/nbiot_func.c **** 
 190:../source/nbiot_func.c **** 	NB_bufPtr = 0;
 574              		.loc 1 190 0
 575 0002 0025     		movs	r5, #0
 191:../source/nbiot_func.c **** 	memset(NB_recBuf, 0, strlen(NB_recBuf));
 576              		.loc 1 191 0
 577 0004 184C     		ldr	r4, .L20
 190:../source/nbiot_func.c **** 	memset(NB_recBuf, 0, strlen(NB_recBuf));
 578              		.loc 1 190 0
 579 0006 194E     		ldr	r6, .L20+4
 580              		.loc 1 191 0
 581 0008 2000     		movs	r0, r4
 190:../source/nbiot_func.c **** 	memset(NB_recBuf, 0, strlen(NB_recBuf));
 582              		.loc 1 190 0
 583 000a 3570     		strb	r5, [r6]
 584              		.loc 1 191 0
 585 000c FFF7FEFF 		bl	strlen
 586              	.LVL83:
 587 0010 2900     		movs	r1, r5
 588 0012 0200     		movs	r2, r0
 589 0014 2000     		movs	r0, r4
 590 0016 FFF7FEFF 		bl	memset
 591              	.LVL84:
 192:../source/nbiot_func.c **** 
 193:../source/nbiot_func.c **** 	while (time_limit--)
 592              		.loc 1 193 0
 593 001a 154D     		ldr	r5, .L20+8
 194:../source/nbiot_func.c **** 	{
 195:../source/nbiot_func.c **** 
 196:../source/nbiot_func.c **** 		if (UART3_strReady)
 594              		.loc 1 196 0
 595 001c 154F     		ldr	r7, .L20+12
 596              	.LVL85:
 597              	.L12:
 598 001e 013D     		subs	r5, r5, #1
 599              	.LVL86:
 193:../source/nbiot_func.c **** 	{
 600              		.loc 1 193 0
 601 0020 002D     		cmp	r5, #0
 602 0022 0ED0     		beq	.L15
 603              	.LVL87:
 604              		.loc 1 196 0
 605 0024 3B78     		ldrb	r3, [r7]
 606 0026 002B     		cmp	r3, #0
 607 0028 F9D0     		beq	.L12
 197:../source/nbiot_func.c **** 		{
 198:../source/nbiot_func.c **** 
 199:../source/nbiot_func.c **** 			if (strstr(NB_recBuf, "NSONMI") != NULL) //if received buffer contains expected answer
 608              		.loc 1 199 0
 609 002a 1349     		ldr	r1, .L20+16
 610 002c 2000     		movs	r0, r4
 611 002e FFF7FEFF 		bl	strstr
 612              	.LVL88:
 613 0032 0028     		cmp	r0, #0
 614 0034 10D0     		beq	.L14
 200:../source/nbiot_func.c **** 			{
 201:../source/nbiot_func.c **** 				PCprint(NB_recBuf);
 615              		.loc 1 201 0
 616 0036 2000     		movs	r0, r4
 617 0038 FFF7FEFF 		bl	PCprint
 618              	.LVL89:
 202:../source/nbiot_func.c **** 				PCprint("received\r\n");
 619              		.loc 1 202 0
 620 003c 0F48     		ldr	r0, .L20+20
 621 003e FFF7FEFF 		bl	PCprint
 622              	.LVL90:
 623              	.L15:
 203:../source/nbiot_func.c **** 				break;
 204:../source/nbiot_func.c **** 			}
 205:../source/nbiot_func.c **** 			else if (strstr(NB_recBuf, "ERROR") != NULL)
 206:../source/nbiot_func.c **** 			{
 207:../source/nbiot_func.c **** 
 208:../source/nbiot_func.c **** 				break;
 209:../source/nbiot_func.c **** 			}
 210:../source/nbiot_func.c **** 			UART3_strReady = 0;
 211:../source/nbiot_func.c **** 		}
 212:../source/nbiot_func.c **** 	}
 213:../source/nbiot_func.c **** 	NB_bufPtr = 0;
 624              		.loc 1 213 0
 625 0042 0025     		movs	r5, #0
 214:../source/nbiot_func.c **** 	memset(NB_recBuf, 0, strlen(NB_recBuf));
 626              		.loc 1 214 0
 627 0044 2000     		movs	r0, r4
 213:../source/nbiot_func.c **** 	memset(NB_recBuf, 0, strlen(NB_recBuf));
 628              		.loc 1 213 0
 629 0046 3570     		strb	r5, [r6]
 630              		.loc 1 214 0
 631 0048 FFF7FEFF 		bl	strlen
 632              	.LVL91:
 633 004c 2900     		movs	r1, r5
 634 004e 0200     		movs	r2, r0
 635 0050 2000     		movs	r0, r4
 636 0052 FFF7FEFF 		bl	memset
 637              	.LVL92:
 215:../source/nbiot_func.c **** }
 638              		.loc 1 215 0
 639              		@ sp needed
 640 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 641              	.LVL93:
 642              	.L14:
 205:../source/nbiot_func.c **** 			{
 643              		.loc 1 205 0
 644 0058 0949     		ldr	r1, .L20+24
 645 005a 2000     		movs	r0, r4
 646 005c FFF7FEFF 		bl	strstr
 647              	.LVL94:
 648 0060 0028     		cmp	r0, #0
 649 0062 EED1     		bne	.L15
 210:../source/nbiot_func.c **** 		}
 650              		.loc 1 210 0
 651 0064 3870     		strb	r0, [r7]
 652 0066 DAE7     		b	.L12
 653              	.L21:
 654              		.align	2
 655              	.L20:
 656 0068 00000000 		.word	NB_recBuf
 657 006c 00000000 		.word	NB_bufPtr
 658 0070 41420F00 		.word	1000001
 659 0074 00000000 		.word	UART3_strReady
 660 0078 00000000 		.word	.LC31
 661 007c 07000000 		.word	.LC33
 662 0080 12000000 		.word	.LC35
 663              		.cfi_endproc
 664              	.LFE5:
 666              		.section	.text.NB_reboot,"ax",%progbits
 667              		.align	1
 668              		.global	NB_reboot
 669              		.syntax unified
 670              		.code	16
 671              		.thumb_func
 672              		.fpu softvfp
 674              	NB_reboot:
 675              	.LFB7:
 216:../source/nbiot_func.c **** 
 217:../source/nbiot_func.c **** void NB_create_pdp_send(char *mqttMessage, uint8_t msgLen)
 218:../source/nbiot_func.c **** {
 219:../source/nbiot_func.c **** 
 220:../source/nbiot_func.c **** 	uint8_t reSend_msg = 0;
 221:../source/nbiot_func.c **** 
 222:../source/nbiot_func.c **** 	//NB_reboot();
 223:../source/nbiot_func.c **** 
 224:../source/nbiot_func.c **** 	AT_send("CFUN=1","","OK");
 225:../source/nbiot_func.c **** 	NB_setPin();
 226:../source/nbiot_func.c **** 
 227:../source/nbiot_func.c **** 	delay_ms(200);  //viivettä pitää olla
 228:../source/nbiot_func.c **** 	/*NB_cops_register();
 229:../source/nbiot_func.c **** 	 delay
 230:../source/nbiot_func.c **** 	 NB_network_status();
 231:../source/nbiot_func.c **** 	 delay_ms(500);*/
 232:../source/nbiot_func.c **** 
 233:../source/nbiot_func.c **** 	NB_define_pdp();
 234:../source/nbiot_func.c **** 	//delay_ms(100);
 235:../source/nbiot_func.c **** 
 236:../source/nbiot_func.c **** 	do
 237:../source/nbiot_func.c **** 	{
 238:../source/nbiot_func.c **** 
 239:../source/nbiot_func.c **** 		//NB_cops_deRegister();
 240:../source/nbiot_func.c **** 		//delay_ms(500);
 241:../source/nbiot_func.c **** 
 242:../source/nbiot_func.c **** 		NB_active_pdp();
 243:../source/nbiot_func.c **** 		//delay_ms(200);
 244:../source/nbiot_func.c **** 		NB_network_status();
 245:../source/nbiot_func.c **** 
 246:../source/nbiot_func.c **** 		/*if(reSend_msg == 1){
 247:../source/nbiot_func.c **** 		 NB_network_status();
 248:../source/nbiot_func.c **** 		 //delay_ms(1000);
 249:../source/nbiot_func.c **** 		 }*/
 250:../source/nbiot_func.c **** 
 251:../source/nbiot_func.c **** 		NB_show_ip();
 252:../source/nbiot_func.c **** 		//delay_ms(200);
 253:../source/nbiot_func.c **** 
 254:../source/nbiot_func.c **** 		NB_create_socket();
 255:../source/nbiot_func.c **** 		//delay_ms(200);
 256:../source/nbiot_func.c **** 
 257:../source/nbiot_func.c **** 		reSend_msg = NB_send_msg(mqttMessage, msgLen);
 258:../source/nbiot_func.c **** 
 259:../source/nbiot_func.c **** 	} while (reSend_msg == 1);
 260:../source/nbiot_func.c **** 
 261:../source/nbiot_func.c **** }
 262:../source/nbiot_func.c **** 
 263:../source/nbiot_func.c **** void NB_reboot()
 264:../source/nbiot_func.c **** {
 676              		.loc 1 264 0
 677              		.cfi_startproc
 678              		@ args = 0, pretend = 0, frame = 0
 679              		@ frame_needed = 0, uses_anonymous_args = 0
 265:../source/nbiot_func.c **** 
 266:../source/nbiot_func.c **** 	res = AT_send(AT_NRB, "", "+UFOTAS");
 680              		.loc 1 266 0
 681 0000 0B4B     		ldr	r3, .L27
 264:../source/nbiot_func.c **** 
 682              		.loc 1 264 0
 683 0002 10B5     		push	{r4, lr}
 684              		.cfi_def_cfa_offset 8
 685              		.cfi_offset 4, -8
 686              		.cfi_offset 14, -4
 687              		.loc 1 266 0
 688 0004 1868     		ldr	r0, [r3]
 689 0006 0B4A     		ldr	r2, .L27+4
 690 0008 0B49     		ldr	r1, .L27+8
 691 000a FFF7FEFF 		bl	AT_send
 692              	.LVL95:
 693 000e 0B4B     		ldr	r3, .L27+12
 694 0010 1870     		strb	r0, [r3]
 267:../source/nbiot_func.c **** 	if (res == 0)
 695              		.loc 1 267 0
 696 0012 0028     		cmp	r0, #0
 697 0014 03D1     		bne	.L23
 268:../source/nbiot_func.c **** 	{
 269:../source/nbiot_func.c **** 		PCprint("rebooted\r\n");
 698              		.loc 1 269 0
 699 0016 0A48     		ldr	r0, .L27+16
 700              	.L26:
 270:../source/nbiot_func.c **** 	}
 271:../source/nbiot_func.c **** 	else if (res == 1)
 272:../source/nbiot_func.c **** 	{
 273:../source/nbiot_func.c **** 		PCprint("error\r\n");
 274:../source/nbiot_func.c **** 	}
 275:../source/nbiot_func.c **** 	else if (res == 2)
 276:../source/nbiot_func.c **** 	{
 277:../source/nbiot_func.c **** 		PCprint("timeout error\r\n");
 701              		.loc 1 277 0
 702 0018 FFF7FEFF 		bl	PCprint
 703              	.LVL96:
 704              	.L22:
 278:../source/nbiot_func.c **** 	}
 279:../source/nbiot_func.c **** 
 280:../source/nbiot_func.c **** }
 705              		.loc 1 280 0
 706              		@ sp needed
 707 001c 10BD     		pop	{r4, pc}
 708              	.L23:
 271:../source/nbiot_func.c **** 	{
 709              		.loc 1 271 0
 710 001e 0128     		cmp	r0, #1
 711 0020 01D1     		bne	.L25
 273:../source/nbiot_func.c **** 	}
 712              		.loc 1 273 0
 713 0022 0848     		ldr	r0, .L27+20
 714 0024 F8E7     		b	.L26
 715              	.L25:
 275:../source/nbiot_func.c **** 	{
 716              		.loc 1 275 0
 717 0026 0228     		cmp	r0, #2
 718 0028 F8D1     		bne	.L22
 277:../source/nbiot_func.c **** 	}
 719              		.loc 1 277 0
 720 002a 0748     		ldr	r0, .L27+24
 721 002c F4E7     		b	.L26
 722              	.L28:
 723 002e C046     		.align	2
 724              	.L27:
 725 0030 00000000 		.word	AT_NRB
 726 0034 00000000 		.word	.LC37
 727 0038 08000000 		.word	.LC39
 728 003c 00000000 		.word	res
 729 0040 09000000 		.word	.LC43
 730 0044 14000000 		.word	.LC45
 731 0048 1C000000 		.word	.LC47
 732              		.cfi_endproc
 733              	.LFE7:
 735              		.section	.text.NB_setPin,"ax",%progbits
 736              		.align	1
 737              		.global	NB_setPin
 738              		.syntax unified
 739              		.code	16
 740              		.thumb_func
 741              		.fpu softvfp
 743              	NB_setPin:
 744              	.LFB8:
 281:../source/nbiot_func.c **** void NB_setPin()
 282:../source/nbiot_func.c **** {
 745              		.loc 1 282 0
 746              		.cfi_startproc
 747              		@ args = 0, pretend = 0, frame = 0
 748              		@ frame_needed = 0, uses_anonymous_args = 0
 283:../source/nbiot_func.c **** 
 284:../source/nbiot_func.c **** 	res = AT_send(AT_NPIN, "", "+NPIN: \"OK\"");
 749              		.loc 1 284 0
 750 0000 094B     		ldr	r3, .L33
 282:../source/nbiot_func.c **** 
 751              		.loc 1 282 0
 752 0002 10B5     		push	{r4, lr}
 753              		.cfi_def_cfa_offset 8
 754              		.cfi_offset 4, -8
 755              		.cfi_offset 14, -4
 756              		.loc 1 284 0
 757 0004 1868     		ldr	r0, [r3]
 758 0006 094A     		ldr	r2, .L33+4
 759 0008 0949     		ldr	r1, .L33+8
 760 000a FFF7FEFF 		bl	AT_send
 761              	.LVL97:
 762 000e 094B     		ldr	r3, .L33+12
 763 0010 1870     		strb	r0, [r3]
 285:../source/nbiot_func.c **** 	if (res == 0)
 764              		.loc 1 285 0
 765 0012 0028     		cmp	r0, #0
 766 0014 03D1     		bne	.L30
 286:../source/nbiot_func.c **** 	{
 287:../source/nbiot_func.c **** 		PCprint("ack\r\n");
 767              		.loc 1 287 0
 768 0016 0848     		ldr	r0, .L33+16
 769              	.L32:
 288:../source/nbiot_func.c **** 	}
 289:../source/nbiot_func.c **** 	else if (res == 1)
 290:../source/nbiot_func.c **** 	{
 291:../source/nbiot_func.c **** 		PCprint("error\r\n");
 770              		.loc 1 291 0
 771 0018 FFF7FEFF 		bl	PCprint
 772              	.LVL98:
 773              	.L29:
 292:../source/nbiot_func.c **** 	}
 293:../source/nbiot_func.c **** 
 294:../source/nbiot_func.c **** }
 774              		.loc 1 294 0
 775              		@ sp needed
 776 001c 10BD     		pop	{r4, pc}
 777              	.L30:
 289:../source/nbiot_func.c **** 	{
 778              		.loc 1 289 0
 779 001e 0128     		cmp	r0, #1
 780 0020 FCD1     		bne	.L29
 291:../source/nbiot_func.c **** 	}
 781              		.loc 1 291 0
 782 0022 0648     		ldr	r0, .L33+20
 783 0024 F8E7     		b	.L32
 784              	.L34:
 785 0026 C046     		.align	2
 786              	.L33:
 787 0028 00000000 		.word	AT_NPIN
 788 002c 00000000 		.word	.LC49
 789 0030 08000000 		.word	.LC39
 790 0034 00000000 		.word	res
 791 0038 0C000000 		.word	.LC54
 792 003c 14000000 		.word	.LC45
 793              		.cfi_endproc
 794              	.LFE8:
 796              		.section	.text.NB_cops_register,"ax",%progbits
 797              		.align	1
 798              		.global	NB_cops_register
 799              		.syntax unified
 800              		.code	16
 801              		.thumb_func
 802              		.fpu softvfp
 804              	NB_cops_register:
 805              	.LFB9:
 295:../source/nbiot_func.c **** void NB_cops_register()
 296:../source/nbiot_func.c **** {
 806              		.loc 1 296 0
 807              		.cfi_startproc
 808              		@ args = 0, pretend = 0, frame = 0
 809              		@ frame_needed = 0, uses_anonymous_args = 0
 297:../source/nbiot_func.c **** 
 298:../source/nbiot_func.c **** 	res = AT_send(AT_COPS, "=0", "OK");   //0 Register to network
 810              		.loc 1 298 0
 811 0000 094B     		ldr	r3, .L39
 296:../source/nbiot_func.c **** 
 812              		.loc 1 296 0
 813 0002 10B5     		push	{r4, lr}
 814              		.cfi_def_cfa_offset 8
 815              		.cfi_offset 4, -8
 816              		.cfi_offset 14, -4
 817              		.loc 1 298 0
 818 0004 1868     		ldr	r0, [r3]
 819 0006 094A     		ldr	r2, .L39+4
 820 0008 0949     		ldr	r1, .L39+8
 821 000a FFF7FEFF 		bl	AT_send
 822              	.LVL99:
 823 000e 094B     		ldr	r3, .L39+12
 824 0010 1870     		strb	r0, [r3]
 299:../source/nbiot_func.c **** 	if (res == 0)
 825              		.loc 1 299 0
 826 0012 0028     		cmp	r0, #0
 827 0014 03D1     		bne	.L36
 300:../source/nbiot_func.c **** 	{
 301:../source/nbiot_func.c **** 		PCprint("Registered\r\n");
 828              		.loc 1 301 0
 829 0016 0848     		ldr	r0, .L39+16
 830              	.L38:
 302:../source/nbiot_func.c **** 	}
 303:../source/nbiot_func.c **** 	else if (res == 1)
 304:../source/nbiot_func.c **** 	{
 305:../source/nbiot_func.c **** 		PCprint("error\r\n");
 831              		.loc 1 305 0
 832 0018 FFF7FEFF 		bl	PCprint
 833              	.LVL100:
 834              	.L35:
 306:../source/nbiot_func.c **** 	}
 307:../source/nbiot_func.c **** }
 835              		.loc 1 307 0
 836              		@ sp needed
 837 001c 10BD     		pop	{r4, pc}
 838              	.L36:
 303:../source/nbiot_func.c **** 	{
 839              		.loc 1 303 0
 840 001e 0128     		cmp	r0, #1
 841 0020 FCD1     		bne	.L35
 305:../source/nbiot_func.c **** 	}
 842              		.loc 1 305 0
 843 0022 0648     		ldr	r0, .L39+20
 844 0024 F8E7     		b	.L38
 845              	.L40:
 846 0026 C046     		.align	2
 847              	.L39:
 848 0028 00000000 		.word	AT_COPS
 849 002c 00000000 		.word	.LC57
 850 0030 03000000 		.word	.LC59
 851 0034 00000000 		.word	res
 852 0038 06000000 		.word	.LC63
 853 003c 14000000 		.word	.LC45
 854              		.cfi_endproc
 855              	.LFE9:
 857              		.section	.text.NB_cops_deRegister,"ax",%progbits
 858              		.align	1
 859              		.global	NB_cops_deRegister
 860              		.syntax unified
 861              		.code	16
 862              		.thumb_func
 863              		.fpu softvfp
 865              	NB_cops_deRegister:
 866              	.LFB10:
 308:../source/nbiot_func.c **** void NB_cops_deRegister()
 309:../source/nbiot_func.c **** {
 867              		.loc 1 309 0
 868              		.cfi_startproc
 869              		@ args = 0, pretend = 0, frame = 0
 870              		@ frame_needed = 0, uses_anonymous_args = 0
 310:../source/nbiot_func.c **** 
 311:../source/nbiot_func.c **** 	res = AT_send(AT_COPS, "=2", "OK");   //2 De-Register from network
 871              		.loc 1 311 0
 872 0000 094B     		ldr	r3, .L45
 309:../source/nbiot_func.c **** 
 873              		.loc 1 309 0
 874 0002 10B5     		push	{r4, lr}
 875              		.cfi_def_cfa_offset 8
 876              		.cfi_offset 4, -8
 877              		.cfi_offset 14, -4
 878              		.loc 1 311 0
 879 0004 1868     		ldr	r0, [r3]
 880 0006 094A     		ldr	r2, .L45+4
 881 0008 0949     		ldr	r1, .L45+8
 882 000a FFF7FEFF 		bl	AT_send
 883              	.LVL101:
 884 000e 094B     		ldr	r3, .L45+12
 885 0010 1870     		strb	r0, [r3]
 312:../source/nbiot_func.c **** 	if (res == 0)
 886              		.loc 1 312 0
 887 0012 0028     		cmp	r0, #0
 888 0014 03D1     		bne	.L42
 313:../source/nbiot_func.c **** 	{
 314:../source/nbiot_func.c **** 		PCprint("De-registered\r\n");
 889              		.loc 1 314 0
 890 0016 0848     		ldr	r0, .L45+16
 891              	.L44:
 315:../source/nbiot_func.c **** 	}
 316:../source/nbiot_func.c **** 	else if (res == 1)
 317:../source/nbiot_func.c **** 	{
 318:../source/nbiot_func.c **** 		PCprint("error\r\n");
 892              		.loc 1 318 0
 893 0018 FFF7FEFF 		bl	PCprint
 894              	.LVL102:
 895              	.L41:
 319:../source/nbiot_func.c **** 	}
 320:../source/nbiot_func.c **** }
 896              		.loc 1 320 0
 897              		@ sp needed
 898 001c 10BD     		pop	{r4, pc}
 899              	.L42:
 316:../source/nbiot_func.c **** 	{
 900              		.loc 1 316 0
 901 001e 0128     		cmp	r0, #1
 902 0020 FCD1     		bne	.L41
 318:../source/nbiot_func.c **** 	}
 903              		.loc 1 318 0
 904 0022 0648     		ldr	r0, .L45+20
 905 0024 F8E7     		b	.L44
 906              	.L46:
 907 0026 C046     		.align	2
 908              	.L45:
 909 0028 00000000 		.word	AT_COPS
 910 002c 00000000 		.word	.LC57
 911 0030 00000000 		.word	.LC67
 912 0034 00000000 		.word	res
 913 0038 03000000 		.word	.LC71
 914 003c 14000000 		.word	.LC45
 915              		.cfi_endproc
 916              	.LFE10:
 918              		.section	.text.NB_cops_readRegister,"ax",%progbits
 919              		.align	1
 920              		.global	NB_cops_readRegister
 921              		.syntax unified
 922              		.code	16
 923              		.thumb_func
 924              		.fpu softvfp
 926              	NB_cops_readRegister:
 927              	.LFB11:
 321:../source/nbiot_func.c **** void NB_cops_readRegister()
 322:../source/nbiot_func.c **** {
 928              		.loc 1 322 0
 929              		.cfi_startproc
 930              		@ args = 0, pretend = 0, frame = 0
 931              		@ frame_needed = 0, uses_anonymous_args = 0
 323:../source/nbiot_func.c **** 
 324:../source/nbiot_func.c **** 	res = AT_send(AT_COPS, "?", "OK");   //2 De-Register from network
 932              		.loc 1 324 0
 933 0000 094B     		ldr	r3, .L51
 322:../source/nbiot_func.c **** 
 934              		.loc 1 322 0
 935 0002 10B5     		push	{r4, lr}
 936              		.cfi_def_cfa_offset 8
 937              		.cfi_offset 4, -8
 938              		.cfi_offset 14, -4
 939              		.loc 1 324 0
 940 0004 1868     		ldr	r0, [r3]
 941 0006 094A     		ldr	r2, .L51+4
 942 0008 0949     		ldr	r1, .L51+8
 943 000a FFF7FEFF 		bl	AT_send
 944              	.LVL103:
 945 000e 094B     		ldr	r3, .L51+12
 946 0010 1870     		strb	r0, [r3]
 325:../source/nbiot_func.c **** 	if (res == 0)
 947              		.loc 1 325 0
 948 0012 0028     		cmp	r0, #0
 949 0014 03D1     		bne	.L48
 326:../source/nbiot_func.c **** 	{
 327:../source/nbiot_func.c **** 		PCprint("readCOPS\r\n");
 950              		.loc 1 327 0
 951 0016 0848     		ldr	r0, .L51+16
 952              	.L50:
 328:../source/nbiot_func.c **** 	}
 329:../source/nbiot_func.c **** 	else if (res == 1)
 330:../source/nbiot_func.c **** 	{
 331:../source/nbiot_func.c **** 		PCprint("error\r\n");
 953              		.loc 1 331 0
 954 0018 FFF7FEFF 		bl	PCprint
 955              	.LVL104:
 956              	.L47:
 332:../source/nbiot_func.c **** 	}
 333:../source/nbiot_func.c **** }
 957              		.loc 1 333 0
 958              		@ sp needed
 959 001c 10BD     		pop	{r4, pc}
 960              	.L48:
 329:../source/nbiot_func.c **** 	{
 961              		.loc 1 329 0
 962 001e 0128     		cmp	r0, #1
 963 0020 FCD1     		bne	.L47
 331:../source/nbiot_func.c **** 	}
 964              		.loc 1 331 0
 965 0022 0648     		ldr	r0, .L51+20
 966 0024 F8E7     		b	.L50
 967              	.L52:
 968 0026 C046     		.align	2
 969              	.L51:
 970 0028 00000000 		.word	AT_COPS
 971 002c 00000000 		.word	.LC57
 972 0030 00000000 		.word	.LC75
 973 0034 00000000 		.word	res
 974 0038 02000000 		.word	.LC79
 975 003c 14000000 		.word	.LC45
 976              		.cfi_endproc
 977              	.LFE11:
 979              		.section	.text.NB_network_status,"ax",%progbits
 980              		.align	1
 981              		.global	NB_network_status
 982              		.syntax unified
 983              		.code	16
 984              		.thumb_func
 985              		.fpu softvfp
 987              	NB_network_status:
 988              	.LFB12:
 334:../source/nbiot_func.c **** void NB_network_status()
 335:../source/nbiot_func.c **** {
 989              		.loc 1 335 0
 990              		.cfi_startproc
 991              		@ args = 0, pretend = 0, frame = 0
 992              		@ frame_needed = 0, uses_anonymous_args = 0
 336:../source/nbiot_func.c **** 	res = 2;
 993              		.loc 1 336 0
 994 0000 0223     		movs	r3, #2
 335:../source/nbiot_func.c **** 	res = 2;
 995              		.loc 1 335 0
 996 0002 10B5     		push	{r4, lr}
 997              		.cfi_def_cfa_offset 8
 998              		.cfi_offset 4, -8
 999              		.cfi_offset 14, -4
 1000              		.loc 1 336 0
 1001 0004 0B4C     		ldr	r4, .L59
 1002 0006 2370     		strb	r3, [r4]
 1003              	.L54:
 337:../source/nbiot_func.c **** 	while (res != 0)
 1004              		.loc 1 337 0
 1005 0008 2378     		ldrb	r3, [r4]
 1006 000a 002B     		cmp	r3, #0
 1007 000c 00D1     		bne	.L57
 338:../source/nbiot_func.c **** 	{
 339:../source/nbiot_func.c **** 		res = AT_send(AT_CEREG, "", "+CEREG: 0,1");
 340:../source/nbiot_func.c **** 		if (res == 0)
 341:../source/nbiot_func.c **** 		{
 342:../source/nbiot_func.c **** 			PCprint("CEREG_OK\r\n");
 343:../source/nbiot_func.c **** 		}
 344:../source/nbiot_func.c **** 		else if (res == 1)
 345:../source/nbiot_func.c **** 		{
 346:../source/nbiot_func.c **** 			PCprint("error\r\n");
 347:../source/nbiot_func.c **** 		}
 348:../source/nbiot_func.c **** 	}
 349:../source/nbiot_func.c **** }
 1008              		.loc 1 349 0
 1009              		@ sp needed
 1010 000e 10BD     		pop	{r4, pc}
 1011              	.L57:
 339:../source/nbiot_func.c **** 		if (res == 0)
 1012              		.loc 1 339 0
 1013 0010 094B     		ldr	r3, .L59+4
 1014 0012 0A4A     		ldr	r2, .L59+8
 1015 0014 0A49     		ldr	r1, .L59+12
 1016 0016 1868     		ldr	r0, [r3]
 1017 0018 FFF7FEFF 		bl	AT_send
 1018              	.LVL105:
 1019 001c 2070     		strb	r0, [r4]
 340:../source/nbiot_func.c **** 		{
 1020              		.loc 1 340 0
 1021 001e 0028     		cmp	r0, #0
 1022 0020 03D1     		bne	.L55
 342:../source/nbiot_func.c **** 		}
 1023              		.loc 1 342 0
 1024 0022 0848     		ldr	r0, .L59+16
 1025              	.L58:
 346:../source/nbiot_func.c **** 		}
 1026              		.loc 1 346 0
 1027 0024 FFF7FEFF 		bl	PCprint
 1028              	.LVL106:
 1029 0028 EEE7     		b	.L54
 1030              	.L55:
 344:../source/nbiot_func.c **** 		{
 1031              		.loc 1 344 0
 1032 002a 0128     		cmp	r0, #1
 1033 002c ECD1     		bne	.L54
 346:../source/nbiot_func.c **** 		}
 1034              		.loc 1 346 0
 1035 002e 0648     		ldr	r0, .L59+20
 1036 0030 F8E7     		b	.L58
 1037              	.L60:
 1038 0032 C046     		.align	2
 1039              	.L59:
 1040 0034 00000000 		.word	res
 1041 0038 00000000 		.word	AT_CEREG
 1042 003c 00000000 		.word	.LC83
 1043 0040 08000000 		.word	.LC39
 1044 0044 0C000000 		.word	.LC87
 1045 0048 14000000 		.word	.LC45
 1046              		.cfi_endproc
 1047              	.LFE12:
 1049              		.section	.text.NB_define_pdp,"ax",%progbits
 1050              		.align	1
 1051              		.global	NB_define_pdp
 1052              		.syntax unified
 1053              		.code	16
 1054              		.thumb_func
 1055              		.fpu softvfp
 1057              	NB_define_pdp:
 1058              	.LFB13:
 350:../source/nbiot_func.c **** void NB_define_pdp()
 351:../source/nbiot_func.c **** {
 1059              		.loc 1 351 0
 1060              		.cfi_startproc
 1061              		@ args = 0, pretend = 0, frame = 0
 1062              		@ frame_needed = 0, uses_anonymous_args = 0
 352:../source/nbiot_func.c **** 	res = AT_send(AT_CGDCONT, "", "OK");
 1063              		.loc 1 352 0
 1064 0000 0B4B     		ldr	r3, .L65
 351:../source/nbiot_func.c **** 	res = AT_send(AT_CGDCONT, "", "OK");
 1065              		.loc 1 351 0
 1066 0002 10B5     		push	{r4, lr}
 1067              		.cfi_def_cfa_offset 8
 1068              		.cfi_offset 4, -8
 1069              		.cfi_offset 14, -4
 1070              		.loc 1 352 0
 1071 0004 1868     		ldr	r0, [r3]
 1072 0006 0B4A     		ldr	r2, .L65+4
 1073 0008 0B49     		ldr	r1, .L65+8
 1074 000a FFF7FEFF 		bl	AT_send
 1075              	.LVL107:
 1076 000e 0B4C     		ldr	r4, .L65+12
 1077 0010 2070     		strb	r0, [r4]
 353:../source/nbiot_func.c **** 	delay_ms(1000);
 1078              		.loc 1 353 0
 1079 0012 FA20     		movs	r0, #250
 1080 0014 8000     		lsls	r0, r0, #2
 1081 0016 FFF7FEFF 		bl	delay_ms
 1082              	.LVL108:
 354:../source/nbiot_func.c **** 	if (res == 0)
 1083              		.loc 1 354 0
 1084 001a 2378     		ldrb	r3, [r4]
 355:../source/nbiot_func.c **** 	{
 356:../source/nbiot_func.c **** 		PCprint("PDP context 1 defined\r\n");
 1085              		.loc 1 356 0
 1086 001c 0848     		ldr	r0, .L65+16
 354:../source/nbiot_func.c **** 	if (res == 0)
 1087              		.loc 1 354 0
 1088 001e 002B     		cmp	r3, #0
 1089 0020 02D0     		beq	.L64
 357:../source/nbiot_func.c **** 	}
 358:../source/nbiot_func.c **** 	else if (res == 1)
 1090              		.loc 1 358 0
 1091 0022 012B     		cmp	r3, #1
 1092 0024 02D1     		bne	.L61
 359:../source/nbiot_func.c **** 	{
 360:../source/nbiot_func.c **** 		PCprint("error\r\n");
 1093              		.loc 1 360 0
 1094 0026 0748     		ldr	r0, .L65+20
 1095              	.L64:
 1096 0028 FFF7FEFF 		bl	PCprint
 1097              	.LVL109:
 1098              	.L61:
 361:../source/nbiot_func.c **** 	}
 362:../source/nbiot_func.c **** }
 1099              		.loc 1 362 0
 1100              		@ sp needed
 1101 002c 10BD     		pop	{r4, pc}
 1102              	.L66:
 1103 002e C046     		.align	2
 1104              	.L65:
 1105 0030 00000000 		.word	AT_CGDCONT
 1106 0034 00000000 		.word	.LC57
 1107 0038 08000000 		.word	.LC39
 1108 003c 00000000 		.word	res
 1109 0040 00000000 		.word	.LC94
 1110 0044 14000000 		.word	.LC45
 1111              		.cfi_endproc
 1112              	.LFE13:
 1114              		.section	.text.NB_active_pdp,"ax",%progbits
 1115              		.align	1
 1116              		.global	NB_active_pdp
 1117              		.syntax unified
 1118              		.code	16
 1119              		.thumb_func
 1120              		.fpu softvfp
 1122              	NB_active_pdp:
 1123              	.LFB14:
 363:../source/nbiot_func.c **** void NB_active_pdp()
 364:../source/nbiot_func.c **** {
 1124              		.loc 1 364 0
 1125              		.cfi_startproc
 1126              		@ args = 0, pretend = 0, frame = 0
 1127              		@ frame_needed = 0, uses_anonymous_args = 0
 365:../source/nbiot_func.c **** 	res = AT_send(AT_CGACT, "=1,1", "OK");     //Active PDP context 1
 1128              		.loc 1 365 0
 1129 0000 094B     		ldr	r3, .L71
 364:../source/nbiot_func.c **** 	res = AT_send(AT_CGACT, "=1,1", "OK");     //Active PDP context 1
 1130              		.loc 1 364 0
 1131 0002 10B5     		push	{r4, lr}
 1132              		.cfi_def_cfa_offset 8
 1133              		.cfi_offset 4, -8
 1134              		.cfi_offset 14, -4
 1135              		.loc 1 365 0
 1136 0004 1868     		ldr	r0, [r3]
 1137 0006 094A     		ldr	r2, .L71+4
 1138 0008 0949     		ldr	r1, .L71+8
 1139 000a FFF7FEFF 		bl	AT_send
 1140              	.LVL110:
 1141 000e 094B     		ldr	r3, .L71+12
 1142 0010 1870     		strb	r0, [r3]
 366:../source/nbiot_func.c **** 
 367:../source/nbiot_func.c **** 	if (res == 0)
 1143              		.loc 1 367 0
 1144 0012 0028     		cmp	r0, #0
 1145 0014 03D1     		bne	.L68
 368:../source/nbiot_func.c **** 	{
 369:../source/nbiot_func.c **** 		PCprint("PDP 1 activated\r\n");
 1146              		.loc 1 369 0
 1147 0016 0848     		ldr	r0, .L71+16
 1148              	.L70:
 370:../source/nbiot_func.c **** 	}
 371:../source/nbiot_func.c **** 	else if (res == 1)
 372:../source/nbiot_func.c **** 	{
 373:../source/nbiot_func.c **** 		PCprint("error\r\n");
 1149              		.loc 1 373 0
 1150 0018 FFF7FEFF 		bl	PCprint
 1151              	.LVL111:
 1152              	.L67:
 374:../source/nbiot_func.c **** 	}
 375:../source/nbiot_func.c **** }
 1153              		.loc 1 375 0
 1154              		@ sp needed
 1155 001c 10BD     		pop	{r4, pc}
 1156              	.L68:
 371:../source/nbiot_func.c **** 	{
 1157              		.loc 1 371 0
 1158 001e 0128     		cmp	r0, #1
 1159 0020 FCD1     		bne	.L67
 373:../source/nbiot_func.c **** 	}
 1160              		.loc 1 373 0
 1161 0022 0648     		ldr	r0, .L71+20
 1162 0024 F8E7     		b	.L70
 1163              	.L72:
 1164 0026 C046     		.align	2
 1165              	.L71:
 1166 0028 00000000 		.word	AT_CGACT
 1167 002c 00000000 		.word	.LC57
 1168 0030 00000000 		.word	.LC98
 1169 0034 00000000 		.word	res
 1170 0038 05000000 		.word	.LC102
 1171 003c 14000000 		.word	.LC45
 1172              		.cfi_endproc
 1173              	.LFE14:
 1175              		.section	.text.NB_show_ip,"ax",%progbits
 1176              		.align	1
 1177              		.global	NB_show_ip
 1178              		.syntax unified
 1179              		.code	16
 1180              		.thumb_func
 1181              		.fpu softvfp
 1183              	NB_show_ip:
 1184              	.LFB15:
 376:../source/nbiot_func.c **** void NB_show_ip()
 377:../source/nbiot_func.c **** {
 1185              		.loc 1 377 0
 1186              		.cfi_startproc
 1187              		@ args = 0, pretend = 0, frame = 0
 1188              		@ frame_needed = 0, uses_anonymous_args = 0
 378:../source/nbiot_func.c **** 	res = AT_send(AT_CGPADDR, "", "OK");     //Show ip address
 1189              		.loc 1 378 0
 1190 0000 094B     		ldr	r3, .L77
 377:../source/nbiot_func.c **** 	res = AT_send(AT_CGPADDR, "", "OK");     //Show ip address
 1191              		.loc 1 377 0
 1192 0002 10B5     		push	{r4, lr}
 1193              		.cfi_def_cfa_offset 8
 1194              		.cfi_offset 4, -8
 1195              		.cfi_offset 14, -4
 1196              		.loc 1 378 0
 1197 0004 1868     		ldr	r0, [r3]
 1198 0006 094A     		ldr	r2, .L77+4
 1199 0008 0949     		ldr	r1, .L77+8
 1200 000a FFF7FEFF 		bl	AT_send
 1201              	.LVL112:
 1202 000e 094B     		ldr	r3, .L77+12
 1203 0010 1870     		strb	r0, [r3]
 379:../source/nbiot_func.c **** 
 380:../source/nbiot_func.c **** 	if (res == 0)
 1204              		.loc 1 380 0
 1205 0012 0028     		cmp	r0, #0
 1206 0014 03D1     		bne	.L74
 381:../source/nbiot_func.c **** 	{
 382:../source/nbiot_func.c **** 		PCprint("ip  found\r\n");
 1207              		.loc 1 382 0
 1208 0016 0848     		ldr	r0, .L77+16
 1209              	.L76:
 383:../source/nbiot_func.c **** 	}
 384:../source/nbiot_func.c **** 	else if (res == 1)
 385:../source/nbiot_func.c **** 	{
 386:../source/nbiot_func.c **** 		PCprint("error\r\n");
 1210              		.loc 1 386 0
 1211 0018 FFF7FEFF 		bl	PCprint
 1212              	.LVL113:
 1213              	.L73:
 387:../source/nbiot_func.c **** 	}
 388:../source/nbiot_func.c **** }
 1214              		.loc 1 388 0
 1215              		@ sp needed
 1216 001c 10BD     		pop	{r4, pc}
 1217              	.L74:
 384:../source/nbiot_func.c **** 	{
 1218              		.loc 1 384 0
 1219 001e 0128     		cmp	r0, #1
 1220 0020 FCD1     		bne	.L73
 386:../source/nbiot_func.c **** 	}
 1221              		.loc 1 386 0
 1222 0022 0648     		ldr	r0, .L77+20
 1223 0024 F8E7     		b	.L76
 1224              	.L78:
 1225 0026 C046     		.align	2
 1226              	.L77:
 1227 0028 00000000 		.word	AT_CGPADDR
 1228 002c 00000000 		.word	.LC57
 1229 0030 08000000 		.word	.LC39
 1230 0034 00000000 		.word	res
 1231 0038 00000000 		.word	.LC109
 1232 003c 14000000 		.word	.LC45
 1233              		.cfi_endproc
 1234              	.LFE15:
 1236              		.section	.text.NB_create_socket,"ax",%progbits
 1237              		.align	1
 1238              		.global	NB_create_socket
 1239              		.syntax unified
 1240              		.code	16
 1241              		.thumb_func
 1242              		.fpu softvfp
 1244              	NB_create_socket:
 1245              	.LFB16:
 389:../source/nbiot_func.c **** void NB_create_socket()
 390:../source/nbiot_func.c **** {
 1246              		.loc 1 390 0
 1247              		.cfi_startproc
 1248              		@ args = 0, pretend = 0, frame = 0
 1249              		@ frame_needed = 0, uses_anonymous_args = 0
 391:../source/nbiot_func.c **** 	res = AT_send(AT_NSOCR, "", "OK");     //Create UDP socket
 1250              		.loc 1 391 0
 1251 0000 094B     		ldr	r3, .L83
 390:../source/nbiot_func.c **** 	res = AT_send(AT_NSOCR, "", "OK");     //Create UDP socket
 1252              		.loc 1 390 0
 1253 0002 10B5     		push	{r4, lr}
 1254              		.cfi_def_cfa_offset 8
 1255              		.cfi_offset 4, -8
 1256              		.cfi_offset 14, -4
 1257              		.loc 1 391 0
 1258 0004 1868     		ldr	r0, [r3]
 1259 0006 094A     		ldr	r2, .L83+4
 1260 0008 0949     		ldr	r1, .L83+8
 1261 000a FFF7FEFF 		bl	AT_send
 1262              	.LVL114:
 1263 000e 094B     		ldr	r3, .L83+12
 1264 0010 1870     		strb	r0, [r3]
 392:../source/nbiot_func.c **** 	if (res == 0)
 1265              		.loc 1 392 0
 1266 0012 0028     		cmp	r0, #0
 1267 0014 03D1     		bne	.L80
 393:../source/nbiot_func.c **** 	{
 394:../source/nbiot_func.c **** 		PCprint("Socket ready\r\n");
 1268              		.loc 1 394 0
 1269 0016 0848     		ldr	r0, .L83+16
 1270              	.L82:
 395:../source/nbiot_func.c **** 	}
 396:../source/nbiot_func.c **** 	else if (res == 1)
 397:../source/nbiot_func.c **** 	{
 398:../source/nbiot_func.c **** 		PCprint("error\r\n");
 1271              		.loc 1 398 0
 1272 0018 FFF7FEFF 		bl	PCprint
 1273              	.LVL115:
 1274              	.L79:
 399:../source/nbiot_func.c **** 	}
 400:../source/nbiot_func.c **** }
 1275              		.loc 1 400 0
 1276              		@ sp needed
 1277 001c 10BD     		pop	{r4, pc}
 1278              	.L80:
 396:../source/nbiot_func.c **** 	{
 1279              		.loc 1 396 0
 1280 001e 0128     		cmp	r0, #1
 1281 0020 FCD1     		bne	.L79
 398:../source/nbiot_func.c **** 	}
 1282              		.loc 1 398 0
 1283 0022 0648     		ldr	r0, .L83+20
 1284 0024 F8E7     		b	.L82
 1285              	.L84:
 1286 0026 C046     		.align	2
 1287              	.L83:
 1288 0028 00000000 		.word	AT_NSOCR
 1289 002c 00000000 		.word	.LC57
 1290 0030 08000000 		.word	.LC39
 1291 0034 00000000 		.word	res
 1292 0038 00000000 		.word	.LC116
 1293 003c 14000000 		.word	.LC45
 1294              		.cfi_endproc
 1295              	.LFE16:
 1297              		.section	.text.NB_send_msg,"ax",%progbits
 1298              		.align	1
 1299              		.global	NB_send_msg
 1300              		.syntax unified
 1301              		.code	16
 1302              		.thumb_func
 1303              		.fpu softvfp
 1305              	NB_send_msg:
 1306              	.LFB17:
 401:../source/nbiot_func.c **** uint8_t NB_send_msg(char *mqttMessage, uint8_t msgLen)
 402:../source/nbiot_func.c **** {
 1307              		.loc 1 402 0
 1308              		.cfi_startproc
 1309              		@ args = 0, pretend = 0, frame = 504
 1310              		@ frame_needed = 0, uses_anonymous_args = 0
 1311              	.LVL116:
 1312 0000 10B5     		push	{r4, lr}
 1313              		.cfi_def_cfa_offset 8
 1314              		.cfi_offset 4, -8
 1315              		.cfi_offset 14, -4
 1316 0002 FEB0     		sub	sp, sp, #504
 1317              		.cfi_def_cfa_offset 512
 1318              		.loc 1 402 0
 1319 0004 0300     		movs	r3, r0
 1320 0006 0A00     		movs	r2, r1
 403:../source/nbiot_func.c **** 
 404:../source/nbiot_func.c **** 	char nsost_command[500];
 405:../source/nbiot_func.c **** 	uint8_t reSend_msg = 0;
 406:../source/nbiot_func.c **** 
 407:../source/nbiot_func.c **** 	sprintf(nsost_command, "0,\"167.99.207.133\",1884,%d,\"%s\"", msgLen,
 1321              		.loc 1 407 0
 1322 0008 01A8     		add	r0, sp, #4
 1323              	.LVL117:
 1324 000a 0C49     		ldr	r1, .L90
 1325              	.LVL118:
 1326 000c FFF7FEFF 		bl	sprintf
 1327              	.LVL119:
 408:../source/nbiot_func.c **** 			mqttMessage);
 409:../source/nbiot_func.c **** 
 410:../source/nbiot_func.c **** 	//PCprint("%s\r\n",nsost_command);
 411:../source/nbiot_func.c **** 
 412:../source/nbiot_func.c **** 	res = AT_send(AT_NSOST, nsost_command, "OK");     //Send message to server
 1328              		.loc 1 412 0
 1329 0010 0B4B     		ldr	r3, .L90+4
 1330 0012 0C4A     		ldr	r2, .L90+8
 1331 0014 1868     		ldr	r0, [r3]
 1332 0016 01A9     		add	r1, sp, #4
 1333 0018 FFF7FEFF 		bl	AT_send
 1334              	.LVL120:
 1335 001c 0A4B     		ldr	r3, .L90+12
 1336 001e 041E     		subs	r4, r0, #0
 1337 0020 1870     		strb	r0, [r3]
 413:../source/nbiot_func.c **** 
 414:../source/nbiot_func.c **** 	if (res == 0)
 415:../source/nbiot_func.c **** 	{
 416:../source/nbiot_func.c **** 		PCprint("sent");
 1338              		.loc 1 416 0
 1339 0022 0A48     		ldr	r0, .L90+16
 414:../source/nbiot_func.c **** 	{
 1340              		.loc 1 414 0
 1341 0024 02D0     		beq	.L89
 417:../source/nbiot_func.c **** 	}
 418:../source/nbiot_func.c **** 	else if (res == 1)
 1342              		.loc 1 418 0
 1343 0026 012C     		cmp	r4, #1
 1344 0028 05D1     		bne	.L88
 419:../source/nbiot_func.c **** 	{
 420:../source/nbiot_func.c **** 		PCprint("error\r\n");
 1345              		.loc 1 420 0
 1346 002a 0948     		ldr	r0, .L90+20
 1347              	.L89:
 1348 002c FFF7FEFF 		bl	PCprint
 1349              	.LVL121:
 1350              	.L87:
 421:../source/nbiot_func.c **** 		reSend_msg = 1;
 422:../source/nbiot_func.c **** 		return reSend_msg;
 423:../source/nbiot_func.c **** 	}
 424:../source/nbiot_func.c **** 	return 0;
 425:../source/nbiot_func.c **** }
 1351              		.loc 1 425 0
 1352 0030 2000     		movs	r0, r4
 1353 0032 7EB0     		add	sp, sp, #504
 1354              		@ sp needed
 1355 0034 10BD     		pop	{r4, pc}
 1356              	.LVL122:
 1357              	.L88:
 424:../source/nbiot_func.c **** }
 1358              		.loc 1 424 0
 1359 0036 0024     		movs	r4, #0
 1360 0038 FAE7     		b	.L87
 1361              	.L91:
 1362 003a C046     		.align	2
 1363              	.L90:
 1364 003c 00000000 		.word	.LC119
 1365 0040 00000000 		.word	AT_NSOST
 1366 0044 00000000 		.word	.LC57
 1367 0048 00000000 		.word	res
 1368 004c 20000000 		.word	.LC124
 1369 0050 14000000 		.word	.LC45
 1370              		.cfi_endproc
 1371              	.LFE17:
 1373              		.section	.text.NB_create_pdp_send,"ax",%progbits
 1374              		.align	1
 1375              		.global	NB_create_pdp_send
 1376              		.syntax unified
 1377              		.code	16
 1378              		.thumb_func
 1379              		.fpu softvfp
 1381              	NB_create_pdp_send:
 1382              	.LFB6:
 218:../source/nbiot_func.c **** 
 1383              		.loc 1 218 0
 1384              		.cfi_startproc
 1385              		@ args = 0, pretend = 0, frame = 0
 1386              		@ frame_needed = 0, uses_anonymous_args = 0
 1387              	.LVL123:
 1388 0000 70B5     		push	{r4, r5, r6, lr}
 1389              		.cfi_def_cfa_offset 16
 1390              		.cfi_offset 4, -16
 1391              		.cfi_offset 5, -12
 1392              		.cfi_offset 6, -8
 1393              		.cfi_offset 14, -4
 224:../source/nbiot_func.c **** 	NB_setPin();
 1394              		.loc 1 224 0
 1395 0002 0E4A     		ldr	r2, .L96
 218:../source/nbiot_func.c **** 
 1396              		.loc 1 218 0
 1397 0004 0400     		movs	r4, r0
 1398 0006 0D00     		movs	r5, r1
 224:../source/nbiot_func.c **** 	NB_setPin();
 1399              		.loc 1 224 0
 1400 0008 0D48     		ldr	r0, .L96+4
 1401              	.LVL124:
 1402 000a 0E49     		ldr	r1, .L96+8
 1403              	.LVL125:
 1404 000c FFF7FEFF 		bl	AT_send
 1405              	.LVL126:
 225:../source/nbiot_func.c **** 
 1406              		.loc 1 225 0
 1407 0010 FFF7FEFF 		bl	NB_setPin
 1408              	.LVL127:
 227:../source/nbiot_func.c **** 	/*NB_cops_register();
 1409              		.loc 1 227 0
 1410 0014 C820     		movs	r0, #200
 1411 0016 FFF7FEFF 		bl	delay_ms
 1412              	.LVL128:
 233:../source/nbiot_func.c **** 	//delay_ms(100);
 1413              		.loc 1 233 0
 1414 001a FFF7FEFF 		bl	NB_define_pdp
 1415              	.LVL129:
 1416              	.L93:
 242:../source/nbiot_func.c **** 		//delay_ms(200);
 1417              		.loc 1 242 0 discriminator 1
 1418 001e FFF7FEFF 		bl	NB_active_pdp
 1419              	.LVL130:
 244:../source/nbiot_func.c **** 
 1420              		.loc 1 244 0 discriminator 1
 1421 0022 FFF7FEFF 		bl	NB_network_status
 1422              	.LVL131:
 251:../source/nbiot_func.c **** 		//delay_ms(200);
 1423              		.loc 1 251 0 discriminator 1
 1424 0026 FFF7FEFF 		bl	NB_show_ip
 1425              	.LVL132:
 254:../source/nbiot_func.c **** 		//delay_ms(200);
 1426              		.loc 1 254 0 discriminator 1
 1427 002a FFF7FEFF 		bl	NB_create_socket
 1428              	.LVL133:
 257:../source/nbiot_func.c **** 
 1429              		.loc 1 257 0 discriminator 1
 1430 002e 2900     		movs	r1, r5
 1431 0030 2000     		movs	r0, r4
 1432 0032 FFF7FEFF 		bl	NB_send_msg
 1433              	.LVL134:
 259:../source/nbiot_func.c **** 
 1434              		.loc 1 259 0 discriminator 1
 1435 0036 0128     		cmp	r0, #1
 1436 0038 F1D0     		beq	.L93
 261:../source/nbiot_func.c **** 
 1437              		.loc 1 261 0
 1438              		@ sp needed
 1439              	.LVL135:
 1440 003a 70BD     		pop	{r4, r5, r6, pc}
 1441              	.L97:
 1442              		.align	2
 1443              	.L96:
 1444 003c 00000000 		.word	.LC57
 1445 0040 00000000 		.word	.LC129
 1446 0044 08000000 		.word	.LC39
 1447              		.cfi_endproc
 1448              	.LFE6:
 1450              		.section	.text.NB_read_msg,"ax",%progbits
 1451              		.align	1
 1452              		.global	NB_read_msg
 1453              		.syntax unified
 1454              		.code	16
 1455              		.thumb_func
 1456              		.fpu softvfp
 1458              	NB_read_msg:
 1459              	.LFB18:
 426:../source/nbiot_func.c **** void NB_read_msg()
 427:../source/nbiot_func.c **** {
 1460              		.loc 1 427 0
 1461              		.cfi_startproc
 1462              		@ args = 0, pretend = 0, frame = 0
 1463              		@ frame_needed = 0, uses_anonymous_args = 0
 428:../source/nbiot_func.c **** 	res = AT_send(AT_NSORF, "", "OK");     //read echo data
 1464              		.loc 1 428 0
 1465 0000 094B     		ldr	r3, .L102
 427:../source/nbiot_func.c **** 	res = AT_send(AT_NSORF, "", "OK");     //read echo data
 1466              		.loc 1 427 0
 1467 0002 10B5     		push	{r4, lr}
 1468              		.cfi_def_cfa_offset 8
 1469              		.cfi_offset 4, -8
 1470              		.cfi_offset 14, -4
 1471              		.loc 1 428 0
 1472 0004 1868     		ldr	r0, [r3]
 1473 0006 094A     		ldr	r2, .L102+4
 1474 0008 0949     		ldr	r1, .L102+8
 1475 000a FFF7FEFF 		bl	AT_send
 1476              	.LVL136:
 1477 000e 094B     		ldr	r3, .L102+12
 1478 0010 1870     		strb	r0, [r3]
 429:../source/nbiot_func.c **** 	//delay_ms(1000);
 430:../source/nbiot_func.c **** 	if (res == 0)
 1479              		.loc 1 430 0
 1480 0012 0028     		cmp	r0, #0
 1481 0014 03D1     		bne	.L99
 431:../source/nbiot_func.c **** 	{
 432:../source/nbiot_func.c **** 		PCprint("echo\r\n");
 1482              		.loc 1 432 0
 1483 0016 0848     		ldr	r0, .L102+16
 1484              	.L101:
 433:../source/nbiot_func.c **** 	}
 434:../source/nbiot_func.c **** 	else if (res == 1)
 435:../source/nbiot_func.c **** 	{
 436:../source/nbiot_func.c **** 		PCprint("error\r\n");
 1485              		.loc 1 436 0
 1486 0018 FFF7FEFF 		bl	PCprint
 1487              	.LVL137:
 1488              	.L98:
 437:../source/nbiot_func.c **** 	}
 438:../source/nbiot_func.c **** }
 1489              		.loc 1 438 0
 1490              		@ sp needed
 1491 001c 10BD     		pop	{r4, pc}
 1492              	.L99:
 434:../source/nbiot_func.c **** 	{
 1493              		.loc 1 434 0
 1494 001e 0128     		cmp	r0, #1
 1495 0020 FCD1     		bne	.L98
 436:../source/nbiot_func.c **** 	}
 1496              		.loc 1 436 0
 1497 0022 0648     		ldr	r0, .L102+20
 1498 0024 F8E7     		b	.L101
 1499              	.L103:
 1500 0026 C046     		.align	2
 1501              	.L102:
 1502 0028 00000000 		.word	AT_NSORF
 1503 002c 00000000 		.word	.LC57
 1504 0030 08000000 		.word	.LC39
 1505 0034 00000000 		.word	res
 1506 0038 00000000 		.word	.LC135
 1507 003c 14000000 		.word	.LC45
 1508              		.cfi_endproc
 1509              	.LFE18:
 1511              		.global	passwd
 1512              		.global	username
 1513              		.global	topic
 1514              		.global	client_id
 1515              		.global	postHeader
 1516              		.comm	res,1,1
 1517              		.section	.bss.jsonMessage.5854,"aw",%nobits
 1520              	jsonMessage.5854:
 1521 0000 00000000 		.space	150
 1521      00000000 
 1521      00000000 
 1521      00000000 
 1521      00000000 
 1522              		.section	.bss.jsonMessage.5867,"aw",%nobits
 1525              	jsonMessage.5867:
 1526 0000 00000000 		.space	150
 1526      00000000 
 1526      00000000 
 1526      00000000 
 1526      00000000 
 1527              		.section	.data.client_id,"aw",%progbits
 1528              		.align	2
 1529              		.set	.LANCHOR0,. + 0
 1532              	client_id:
 1533 0000 16000000 		.word	.LC140
 1534              		.section	.data.passwd,"aw",%progbits
 1535              		.align	2
 1536              		.set	.LANCHOR1,. + 0
 1539              	passwd:
 1540 0000 00000000 		.word	.LC138
 1541              		.section	.data.topic,"aw",%progbits
 1542              		.align	2
 1543              		.set	.LANCHOR3,. + 0
 1546              	topic:
 1547 0000 0D000000 		.word	.LC139
 1548              		.section	.data.username,"aw",%progbits
 1549              		.align	2
 1550              		.set	.LANCHOR2,. + 0
 1553              	username:
 1554 0000 0D000000 		.word	.LC139
 1555              		.section	.rodata.NB_active_pdp.str1.1,"aMS",%progbits,1
 1556              	.LC98:
 1557 0000 3D312C31 		.ascii	"=1,1\000"
 1557      00
 1558              	.LC102:
 1559 0005 50445020 		.ascii	"PDP 1 activated\015\012\000"
 1559      31206163 
 1559      74697661 
 1559      7465640D 
 1559      0A00
 1560              		.section	.rodata.NB_cops_deRegister.str1.1,"aMS",%progbits,1
 1561              	.LC67:
 1562 0000 3D3200   		.ascii	"=2\000"
 1563              	.LC71:
 1564 0003 44652D72 		.ascii	"De-registered\015\012\000"
 1564      65676973 
 1564      74657265 
 1564      640D0A00 
 1565              		.section	.rodata.NB_cops_readRegister.str1.1,"aMS",%progbits,1
 1566              	.LC75:
 1567 0000 3F00     		.ascii	"?\000"
 1568              	.LC79:
 1569 0002 72656164 		.ascii	"readCOPS\015\012\000"
 1569      434F5053 
 1569      0D0A00
 1570              		.section	.rodata.NB_cops_register.str1.1,"aMS",%progbits,1
 1571              	.LC57:
 1572 0000 4F4B00   		.ascii	"OK\000"
 1573              	.LC59:
 1574 0003 3D3000   		.ascii	"=0\000"
 1575              	.LC63:
 1576 0006 52656769 		.ascii	"Registered\015\012\000"
 1576      73746572 
 1576      65640D0A 
 1576      00
 1577              		.section	.rodata.NB_create_pdp_send.str1.1,"aMS",%progbits,1
 1578              	.LC129:
 1579 0000 4346554E 		.ascii	"CFUN=1\000"
 1579      3D3100
 1580              		.section	.rodata.NB_create_socket.str1.1,"aMS",%progbits,1
 1581              	.LC116:
 1582 0000 536F636B 		.ascii	"Socket ready\015\012\000"
 1582      65742072 
 1582      65616479 
 1582      0D0A00
 1583              		.section	.rodata.NB_define_pdp.str1.1,"aMS",%progbits,1
 1584              	.LC94:
 1585 0000 50445020 		.ascii	"PDP context 1 defined\015\012\000"
 1585      636F6E74 
 1585      65787420 
 1585      31206465 
 1585      66696E65 
 1586              		.section	.rodata.NB_network_status.str1.1,"aMS",%progbits,1
 1587              	.LC83:
 1588 0000 2B434552 		.ascii	"+CEREG: 0,1\000"
 1588      45473A20 
 1588      302C3100 
 1589              	.LC87:
 1590 000c 43455245 		.ascii	"CEREG_OK\015\012\000"
 1590      475F4F4B 
 1590      0D0A00
 1591              		.section	.rodata.NB_read_msg.str1.1,"aMS",%progbits,1
 1592              	.LC135:
 1593 0000 6563686F 		.ascii	"echo\015\012\000"
 1593      0D0A00
 1594              		.section	.rodata.NB_reboot.str1.1,"aMS",%progbits,1
 1595              	.LC37:
 1596 0000 2B55464F 		.ascii	"+UFOTAS\000"
 1596      54415300 
 1597              	.LC39:
 1598 0008 00       		.ascii	"\000"
 1599              	.LC43:
 1600 0009 7265626F 		.ascii	"rebooted\015\012\000"
 1600      6F746564 
 1600      0D0A00
 1601              	.LC45:
 1602 0014 6572726F 		.ascii	"error\015\012\000"
 1602      720D0A00 
 1603              	.LC47:
 1604 001c 74696D65 		.ascii	"timeout error\015\012\000"
 1604      6F757420 
 1604      6572726F 
 1604      720D0A00 
 1605              		.section	.rodata.NB_received_data.str1.1,"aMS",%progbits,1
 1606              	.LC31:
 1607 0000 4E534F4E 		.ascii	"NSONMI\000"
 1607      4D4900
 1608              	.LC33:
 1609 0007 72656365 		.ascii	"received\015\012\000"
 1609      69766564 
 1609      0D0A00
 1610              	.LC35:
 1611 0012 4552524F 		.ascii	"ERROR\000"
 1611      5200
 1612              		.section	.rodata.NB_send_msg.str1.1,"aMS",%progbits,1
 1613              	.LC119:
 1614 0000 302C2231 		.ascii	"0,\"167.99.207.133\",1884,%d,\"%s\"\000"
 1614      36372E39 
 1614      392E3230 
 1614      372E3133 
 1614      33222C31 
 1615              	.LC124:
 1616 0020 73656E74 		.ascii	"sent\000"
 1616      00
 1617              		.section	.rodata.NB_setPin.str1.1,"aMS",%progbits,1
 1618              	.LC49:
 1619 0000 2B4E5049 		.ascii	"+NPIN: \"OK\"\000"
 1619      4E3A2022 
 1619      4F4B2200 
 1620              	.LC54:
 1621 000c 61636B0D 		.ascii	"ack\015\012\000"
 1621      0A00
 1622              		.section	.rodata.NB_show_ip.str1.1,"aMS",%progbits,1
 1623              	.LC109:
 1624 0000 69702020 		.ascii	"ip  found\015\012\000"
 1624      666F756E 
 1624      640D0A00 
 1625              		.section	.rodata.assembleMqtt.str1.1,"aMS",%progbits,1
 1626              	.LC6:
 1627 0000 7B0D0A0D 		.ascii	"{\015\012\015\012    \"serialnumber\":\"%s\",\015\012"
 1627      0A202020 
 1627      20227365 
 1627      7269616C 
 1627      6E756D62 
 1628 001f 00       		.ascii	"\000"
 1629              	.LC9:
 1630 0020 20202020 		.ascii	"    \"lat\":\"%s\",\015\012\000"
 1630      226C6174 
 1630      223A2225 
 1630      73222C0D 
 1630      0A00
 1631              	.LC11:
 1632 0032 20202020 		.ascii	"    \"long\":\"%s\",\015\012\000"
 1632      226C6F6E 
 1632      67223A22 
 1632      2573222C 
 1632      0D0A00
 1633              	.LC13:
 1634 0045 20202020 		.ascii	"    \"status\":\"%s\",\015\012\000"
 1634      22737461 
 1634      74757322 
 1634      3A222573 
 1634      222C0D0A 
 1635              	.LC15:
 1636 005a 20202020 		.ascii	"    \"battery\":\"%d\"\015\012\015\012}\000"
 1636      22626174 
 1636      74657279 
 1636      223A2225 
 1636      64220D0A 
 1637              	.LC17:
 1638 0072 25303278 		.ascii	"%02x\000"
 1638      00
 1639              		.section	.rodata.assemblePacket.str1.1,"aMS",%progbits,1
 1640              	.LC26:
 1641 0000 0D0A00   		.ascii	"\015\012\000"
 1642              		.section	.rodata.postHeader,"a",%progbits
 1645              	postHeader:
 1646 0000 504F5354 		.ascii	"POST /Reindeertracker/API/data/index.php HTTP/1.1\015"
 1646      202F5265 
 1646      696E6465 
 1646      65727472 
 1646      61636B65 
 1647 0032 0A486F73 		.ascii	"\012Host: 168.235.64.81\015\012Content-Length: %d\015"
 1647      743A2031 
 1647      36382E32 
 1647      33352E36 
 1647      342E3831 
 1648 005b 0A436F6E 		.ascii	"\012Content-Type: application/json\015\012Cache-Con"
 1648      74656E74 
 1648      2D547970 
 1648      653A2061 
 1648      70706C69 
 1649 0085 74726F6C 		.ascii	"trol: no-cache\015\012\015\012\000"
 1649      3A206E6F 
 1649      2D636163 
 1649      68650D0A 
 1649      0D0A00
 1650              		.section	.rodata.str1.1,"aMS",%progbits,1
 1651              	.LC138:
 1652 0000 7265696E 		.ascii	"reindeer1234\000"
 1652      64656572 
 1652      31323334 
 1652      00
 1653              	.LC139:
 1654 000d 7265696E 		.ascii	"reindeer\000"
 1654      64656572 
 1654      00
 1655              	.LC140:
 1656 0016 7265696E 		.ascii	"reindeertracker\000"
 1656      64656572 
 1656      74726163 
 1656      6B657200 
 1657              		.text
 1658              	.Letext0:
 1659              		.file 2 "/opt/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/machine/_default_types.h"
 1660              		.file 3 "/opt/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_stdint.h"
 1661              		.file 4 "/opt/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/lock.h"
 1662              		.file 5 "/opt/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/_types.h"
 1663              		.file 6 "/opt/gcc-arm-none-eabi-7-2017-q4-major/lib/gcc/arm-none-eabi/7.2.1/include/stddef.h"
 1664              		.file 7 "/opt/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/sys/reent.h"
 1665              		.file 8 "/opt/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdlib.h"
 1666              		.file 9 "../source/nbiot_func.h"
 1667              		.file 10 "../source/at_func.h"
 1668              		.file 11 "/opt/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/stdio.h"
 1669              		.file 12 "../source/timing.h"
 1670              		.file 13 "/opt/gcc-arm-none-eabi-7-2017-q4-major/arm-none-eabi/include/string.h"
 1671              		.file 14 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 nbiot_func.c
     /tmp/ccKiuDlX.s:16     .text.assembleMqtt:0000000000000000 $t
     /tmp/ccKiuDlX.s:23     .text.assembleMqtt:0000000000000000 assembleMqtt
     /tmp/ccKiuDlX.s:387    .text.assembleMqtt:00000000000001b4 $d
     /tmp/ccKiuDlX.s:1520   .bss.jsonMessage.5854:0000000000000000 jsonMessage.5854
     /tmp/ccKiuDlX.s:405    .text.assemblePacket:0000000000000000 $t
     /tmp/ccKiuDlX.s:412    .text.assemblePacket:0000000000000000 assemblePacket
     /tmp/ccKiuDlX.s:539    .text.assemblePacket:000000000000007c $d
     /tmp/ccKiuDlX.s:1525   .bss.jsonMessage.5867:0000000000000000 jsonMessage.5867
     /tmp/ccKiuDlX.s:1645   .rodata.postHeader:0000000000000000 postHeader
     /tmp/ccKiuDlX.s:552    .text.NB_received_data:0000000000000000 $t
     /tmp/ccKiuDlX.s:559    .text.NB_received_data:0000000000000000 NB_received_data
     /tmp/ccKiuDlX.s:656    .text.NB_received_data:0000000000000068 $d
     /tmp/ccKiuDlX.s:667    .text.NB_reboot:0000000000000000 $t
     /tmp/ccKiuDlX.s:674    .text.NB_reboot:0000000000000000 NB_reboot
     /tmp/ccKiuDlX.s:725    .text.NB_reboot:0000000000000030 $d
                            *COM*:0000000000000001 res
     /tmp/ccKiuDlX.s:736    .text.NB_setPin:0000000000000000 $t
     /tmp/ccKiuDlX.s:743    .text.NB_setPin:0000000000000000 NB_setPin
     /tmp/ccKiuDlX.s:787    .text.NB_setPin:0000000000000028 $d
     /tmp/ccKiuDlX.s:797    .text.NB_cops_register:0000000000000000 $t
     /tmp/ccKiuDlX.s:804    .text.NB_cops_register:0000000000000000 NB_cops_register
     /tmp/ccKiuDlX.s:848    .text.NB_cops_register:0000000000000028 $d
     /tmp/ccKiuDlX.s:858    .text.NB_cops_deRegister:0000000000000000 $t
     /tmp/ccKiuDlX.s:865    .text.NB_cops_deRegister:0000000000000000 NB_cops_deRegister
     /tmp/ccKiuDlX.s:909    .text.NB_cops_deRegister:0000000000000028 $d
     /tmp/ccKiuDlX.s:919    .text.NB_cops_readRegister:0000000000000000 $t
     /tmp/ccKiuDlX.s:926    .text.NB_cops_readRegister:0000000000000000 NB_cops_readRegister
     /tmp/ccKiuDlX.s:970    .text.NB_cops_readRegister:0000000000000028 $d
     /tmp/ccKiuDlX.s:980    .text.NB_network_status:0000000000000000 $t
     /tmp/ccKiuDlX.s:987    .text.NB_network_status:0000000000000000 NB_network_status
     /tmp/ccKiuDlX.s:1040   .text.NB_network_status:0000000000000034 $d
     /tmp/ccKiuDlX.s:1050   .text.NB_define_pdp:0000000000000000 $t
     /tmp/ccKiuDlX.s:1057   .text.NB_define_pdp:0000000000000000 NB_define_pdp
     /tmp/ccKiuDlX.s:1105   .text.NB_define_pdp:0000000000000030 $d
     /tmp/ccKiuDlX.s:1115   .text.NB_active_pdp:0000000000000000 $t
     /tmp/ccKiuDlX.s:1122   .text.NB_active_pdp:0000000000000000 NB_active_pdp
     /tmp/ccKiuDlX.s:1166   .text.NB_active_pdp:0000000000000028 $d
     /tmp/ccKiuDlX.s:1176   .text.NB_show_ip:0000000000000000 $t
     /tmp/ccKiuDlX.s:1183   .text.NB_show_ip:0000000000000000 NB_show_ip
     /tmp/ccKiuDlX.s:1227   .text.NB_show_ip:0000000000000028 $d
     /tmp/ccKiuDlX.s:1237   .text.NB_create_socket:0000000000000000 $t
     /tmp/ccKiuDlX.s:1244   .text.NB_create_socket:0000000000000000 NB_create_socket
     /tmp/ccKiuDlX.s:1288   .text.NB_create_socket:0000000000000028 $d
     /tmp/ccKiuDlX.s:1298   .text.NB_send_msg:0000000000000000 $t
     /tmp/ccKiuDlX.s:1305   .text.NB_send_msg:0000000000000000 NB_send_msg
     /tmp/ccKiuDlX.s:1364   .text.NB_send_msg:000000000000003c $d
     /tmp/ccKiuDlX.s:1374   .text.NB_create_pdp_send:0000000000000000 $t
     /tmp/ccKiuDlX.s:1381   .text.NB_create_pdp_send:0000000000000000 NB_create_pdp_send
     /tmp/ccKiuDlX.s:1444   .text.NB_create_pdp_send:000000000000003c $d
     /tmp/ccKiuDlX.s:1451   .text.NB_read_msg:0000000000000000 $t
     /tmp/ccKiuDlX.s:1458   .text.NB_read_msg:0000000000000000 NB_read_msg
     /tmp/ccKiuDlX.s:1502   .text.NB_read_msg:0000000000000028 $d
     /tmp/ccKiuDlX.s:1539   .data.passwd:0000000000000000 passwd
     /tmp/ccKiuDlX.s:1553   .data.username:0000000000000000 username
     /tmp/ccKiuDlX.s:1546   .data.topic:0000000000000000 topic
     /tmp/ccKiuDlX.s:1532   .data.client_id:0000000000000000 client_id
     /tmp/ccKiuDlX.s:1521   .bss.jsonMessage.5854:0000000000000000 $d
     /tmp/ccKiuDlX.s:1526   .bss.jsonMessage.5867:0000000000000000 $d
     /tmp/ccKiuDlX.s:1528   .data.client_id:0000000000000000 $d
     /tmp/ccKiuDlX.s:1535   .data.passwd:0000000000000000 $d
     /tmp/ccKiuDlX.s:1542   .data.topic:0000000000000000 $d
     /tmp/ccKiuDlX.s:1549   .data.username:0000000000000000 $d

UNDEFINED SYMBOLS
strlen
memcpy
memset
sprintf
PCprint
strcpy
strstr
NB_recBuf
NB_bufPtr
UART3_strReady
AT_send
AT_NRB
AT_NPIN
AT_COPS
AT_CEREG
delay_ms
AT_CGDCONT
AT_CGACT
AT_CGPADDR
AT_NSOCR
AT_NSOST
AT_NSORF
