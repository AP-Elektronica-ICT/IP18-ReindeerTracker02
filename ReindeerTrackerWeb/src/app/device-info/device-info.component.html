<div class="container" *ngIf="loaded">
  <div class="alert alert-danger" role="alert" *ngIf="showDeviceNotFoundMessage">
    This device does not exist
  </div>
  <div *ngIf="!showDeviceNotFoundMessage">
    <div class="alert alert-success" role="alert" *ngIf="showChangesSavedMessage">
      Your changes have been saved
    </div>
    <img [src]="getImageUrl()" alt="">
    <div style="text-align: center; margin-top: 20px">
      <button class="btn btn-danger" (click)="onRemoveImage()" *ngIf="device.imageUrl">Remove image</button>
    </div>
    <div class="form-group">
      <label for="image">Select image</label>
      <input type="file" class="form-control-file" id="image" (change)="readUrl($event)">
    </div>
    <form [formGroup]="detailForm" (submit)="onSubmit()">
      <div class="form-group">
        <label for="name">Name <span class="red">*</span></label>
        <input type="text" class="form-control" id="name" placeholder="Name" autocomplete="off" formControlName="name" required>
      </div>
      <div class="form-group">
        <label for="birthyear">Birth year <span class="red">*</span></label>
        <input type="text" class="form-control" id="birthyear" placeholder="Ex: 2018" required autocomplete="off" formControlName="birthyear">
      </div>
      <div class="form-group">
        <label for="gender">Gender <span class="red">*</span></label>
        <select class="form-control" id="gender" name="gender" formControlName="gender">
          <option value="" disabled selected>Select your option</option>
          <option value="M">M</option>
          <option value="F">F</option>
        </select>
      </div>
      <button class="btn btn-success" type="submit" [disabled]="!detailForm.valid">Save changes</button>
      <button class="btn btn-danger" type="button" (click)="onCancel()">Cancel</button>
    </form>
    <br>
    <div class="alert alert-info" role="alert" *ngIf="!device.activated">
      Your has not yet been activated
      <button class="btn btn-light" (click)="activateKey()">Activate</button>
    </div>
    <div class="alert alert-success" role="alert" *ngIf="showActivateSuccessMessage">
      Your device has been activated
    </div>
  </div>
</div>
